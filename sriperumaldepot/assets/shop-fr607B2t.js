import{g as je,b as ve,j as e,r as u,c as Ce,d as Q,s as K,e as Se,f as ee,h as ke,m as we,i as J,k as Ie,T as ze,l as Ae,n as Te,o as oe,p as Re,a as le,R as Y,C as ce}from"./index-DtX5KMym.js";import{A as de,T as xe,C as We,a as Ee,M as Me}from"./ArrowBackIosNew-CXkPUeHz.js";import{C as Pe}from"./CheckCircle-JKrKFUcS.js";import{S as Fe}from"./Straighten--nv7y6Rn.js";import{c as O,P as Le,B as n,T as m,a as U}from"./Button-ZxXk5NXE.js";import{L as Be}from"./LocalShipping-BznEunq_.js";import{u as H}from"./productStore-CTqHDe6q.js";import{u as _}from"./cartStore-nMSBadEG.js";import{u as pe}from"./pricingStore-BVs7InRi.js";import{Q as Ve,p as Oe}from"./QrCodeScanner-Bk3_BDod.js";import{A as De}from"./Add-BdPpStYo.js";import{S as $e}from"./Search-BKxuWLiJ.js";import{S as he}from"./ShoppingCart-CL8rEfc8.js";import{F as Ne}from"./FitnessCenter-Ct_Xvj7w.js";import{B as He,E as Ue}from"./EnergySavingsLeaf-Ckjv6kvi.js";import{I as N}from"./IconButton-BtwwtOow.js";import{A as Qe}from"./ArrowBack-q2JD_40Z.js";import{F as Ye}from"./FlashOn-DdJKBx7P.js";import{D as me}from"./dividerClasses-uNOcrwxV.js";import{d as _e,o as ue,I as G,F as Xe,S as Ze}from"./TextField-eoPkSaiM.js";import{Q as Ge}from"./QuantitySelector-D8TfKOwS.js";import{H as qe}from"./Header-C3lQVeAU.js";import{A as fe}from"./Avatar-C8fpOm4B.js";import{C as Ke}from"./Collapse-CfiXN74g.js";import{P as Je}from"./Page-sCAYc5gN.js";import{G as $}from"./Grid-LTlbF-aw.js";import{D as te}from"./Divider-B1FYCkTC.js";import{C as ge}from"./Card-BI_onguj.js";import{C as et}from"./CardContent-vmzOF5UX.js";import"./isMuiElement-1F15ohEj.js";import"./Stack-DliPFEgh.js";function tt(t){return ve("MuiAlert",t)}const se=je("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),rt=O(e.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),ot=O(e.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),st=O(e.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),nt=O(e.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),it=O(e.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),at=t=>{const{variant:a,color:r,severity:o,classes:l}=t,b={root:["root",`color${ee(r||o)}`,`${a}${ee(r||o)}`,`${a}`],icon:["icon"],message:["message"],action:["action"]};return ke(b,tt,l)},lt=K(Le,{name:"MuiAlert",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:r}=t;return[a.root,a[r.variant],a[`${r.variant}${ee(r.color||r.severity)}`]]}})(we(({theme:t})=>{const a=t.palette.mode==="light"?t.darken:t.lighten,r=t.palette.mode==="light"?t.lighten:t.darken;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(J(["light"])).map(([o])=>({props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:a(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:r(t.palette[o].light,.9),[`& .${se.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}})),...Object.entries(t.palette).filter(J(["light"])).map(([o])=>({props:{colorSeverity:o,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:a(t.palette[o].light,.6),border:`1px solid ${(t.vars||t).palette[o].light}`,[`& .${se.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}})),...Object.entries(t.palette).filter(J(["dark"])).map(([o])=>({props:{colorSeverity:o,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${o}FilledColor`],backgroundColor:t.vars.palette.Alert[`${o}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[o].dark:t.palette[o].main,color:t.palette.getContrastText(t.palette[o].main)}}}))]}})),ct=K("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),dt=K("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),xt=K("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),ne={success:e.jsx(rt,{fontSize:"inherit"}),warning:e.jsx(ot,{fontSize:"inherit"}),error:e.jsx(st,{fontSize:"inherit"}),info:e.jsx(nt,{fontSize:"inherit"})},ie=u.forwardRef(function(a,r){const o=Ce({props:a,name:"MuiAlert"}),{action:l,children:b,className:v,closeText:z="Close",color:C,components:f={},componentsProps:E={},icon:A,iconMapping:R=ne,onClose:D,role:w="alert",severity:S="success",slotProps:B={},slots:y={},variant:P="standard",...W}=o,k={...o,color:C,severity:S,variant:P,colorSeverity:C||S},T=at(k),i={slots:{closeButton:f.CloseButton,closeIcon:f.CloseIcon,...y},slotProps:{...E,...B}},[g,s]=Q("root",{ref:r,shouldForwardComponentProp:!0,className:Se(T.root,v),elementType:lt,externalForwardedProps:{...i,...W},ownerState:k,additionalProps:{role:w,elevation:0}}),[j,c]=Q("icon",{className:T.icon,elementType:ct,externalForwardedProps:i,ownerState:k}),[d,p]=Q("message",{className:T.message,elementType:dt,externalForwardedProps:i,ownerState:k}),[I,h]=Q("action",{className:T.action,elementType:xt,externalForwardedProps:i,ownerState:k}),[F,M]=Q("closeButton",{elementType:N,externalForwardedProps:i,ownerState:k}),[V,x]=Q("closeIcon",{elementType:it,externalForwardedProps:i,ownerState:k});return e.jsxs(g,{...s,children:[A!==!1?e.jsx(j,{...c,children:A||R[S]||ne[S]}):null,e.jsx(d,{...p,children:b}),l!=null?e.jsx(I,{...h,children:l}):null,l==null&&D?e.jsx(I,{...h,children:e.jsx(F,{size:"small","aria-label":z,title:z,color:"inherit",onClick:D,...M,children:e.jsx(V,{fontSize:"small",...x})})}):null]})});function pt(t,a,r){const o=a.getBoundingClientRect(),l=r&&r.getBoundingClientRect(),b=ue(a);let v;if(a.fakeTransform)v=a.fakeTransform;else{const f=b.getComputedStyle(a);v=f.getPropertyValue("-webkit-transform")||f.getPropertyValue("transform")}let z=0,C=0;if(v&&v!=="none"&&typeof v=="string"){const f=v.split("(")[1].split(")")[0].split(",");z=parseInt(f[4],10),C=parseInt(f[5],10)}return t==="left"?l?`translateX(${l.right+z-o.left}px)`:`translateX(${b.innerWidth+z-o.left}px)`:t==="right"?l?`translateX(-${o.right-l.left-z}px)`:`translateX(-${o.left+o.width-z}px)`:t==="up"?l?`translateY(${l.bottom+C-o.top}px)`:`translateY(${b.innerHeight+C-o.top}px)`:l?`translateY(-${o.top-l.top+o.height-C}px)`:`translateY(-${o.top+o.height-C}px)`}function ht(t){return typeof t=="function"?t():t}function Z(t,a,r){const o=ht(r),l=pt(t,a,o);l&&(a.style.webkitTransform=l,a.style.transform=l)}const be=u.forwardRef(function(a,r){const o=Ie(),l={enter:o.transitions.easing.easeOut,exit:o.transitions.easing.sharp},b={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{addEndListener:v,appear:z=!0,children:C,container:f,direction:E="down",easing:A=l,in:R,onEnter:D,onEntered:w,onEntering:S,onExit:B,onExited:y,onExiting:P,style:W,timeout:k=b,TransitionComponent:T=ze,...i}=a,g=u.useRef(null),s=Ae(Te(C),g,r),j=x=>L=>{x&&(L===void 0?x(g.current):x(g.current,L))},c=j((x,L)=>{Z(E,x,f),Re(x),D&&D(x,L)}),d=j((x,L)=>{const X=oe({timeout:k,style:W,easing:A},{mode:"enter"});x.style.webkitTransition=o.transitions.create("-webkit-transform",{...X}),x.style.transition=o.transitions.create("transform",{...X}),x.style.webkitTransform="none",x.style.transform="none",S&&S(x,L)}),p=j(w),I=j(P),h=j(x=>{const L=oe({timeout:k,style:W,easing:A},{mode:"exit"});x.style.webkitTransition=o.transitions.create("-webkit-transform",L),x.style.transition=o.transitions.create("transform",L),Z(E,x,f),B&&B(x)}),F=j(x=>{x.style.webkitTransition="",x.style.transition="",y&&y(x)}),M=x=>{v&&v(g.current,x)},V=u.useCallback(()=>{g.current&&Z(E,g.current,f)},[E,f]);return u.useEffect(()=>{if(R||E==="down"||E==="right")return;const x=_e(()=>{g.current&&Z(E,g.current,f)}),L=ue(g.current);return L.addEventListener("resize",x),()=>{x.clear(),L.removeEventListener("resize",x)}},[E,R,f]),u.useEffect(()=>{R||V()},[R,V]),e.jsx(T,{nodeRef:g,onEnter:c,onEntered:p,onEntering:d,onExit:h,onExited:F,onExiting:I,addEndListener:M,appear:z,in:R,timeout:k,...i,children:(x,{ownerState:L,...X})=>u.cloneElement(C,{ref:s,style:{visibility:x==="exited"&&!R?"hidden":void 0,...W,...C.props.style},...X})})}),mt=O(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),ut=O(e.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),ft=O(e.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),gt=O(e.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"})),bt=O(e.jsx("path",{d:"m3 2 2.01 18.23C5.13 21.23 5.97 22 7 22h10c1.03 0 1.87-.77 1.99-1.77L21 2zm9 17c-1.66 0-3-1.34-3-3 0-2 3-5.4 3-5.4s3 3.4 3 5.4c0 1.66-1.34 3-3 3m6.33-11H5.67l-.44-4h13.53z"})),yt=O(e.jsx("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8M7.83 14c.37 0 .67.26.74.62.41 2.22 2.28 2.98 3.64 2.87.43-.02.79.32.79.75 0 .4-.32.73-.72.75-2.13.13-4.62-1.09-5.19-4.12-.08-.45.28-.87.74-.87"})),jt=O(e.jsx("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8M6 18l6-4.5 6 4.5z"})),vt=O(e.jsx("path",{d:"M3.27 3 2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73zM17 10h-4l4-8H7v2.18l8.46 8.46z"})),Ct=O(e.jsx("path",{d:"M3 6c-.55 0-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1m17-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 9h-8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1m-4 4h-4c-.55 0-1-.45-1-1s.45-1 1-1h4c.55 0 1 .45 1 1s-.45 1-1 1m4-8h-8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"})),ye=()=>{const a=_(o=>o.items).length,r=le();return e.jsxs(N,{sx:{bgcolor:"action.hover"},onClick:()=>r({to:"/checkout"}),children:[e.jsx(he,{}),a>0&&e.jsx(n,{sx:{position:"absolute",top:0,right:0,width:16,height:16,bgcolor:"red",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.65rem",color:"white",fontWeight:"bold",border:"2px solid",borderColor:"background.paper"},children:a})]})},St=Y.forwardRef(function(a,r){return e.jsx(be,{direction:"up",ref:r,...a})}),kt=({open:t,onClose:a,onScanSuccess:r})=>{const o=u.useRef(null),[l,b]=u.useState(null),[v,z]=u.useState(!0),[C,f]=u.useState(!1),[E,A]=u.useState(!0),[R,D]=u.useState(!1),[w,S]=u.useState(null),[B,y]=u.useState(1),[P,W]=u.useState(1),[k,T]=u.useState(!1),i=u.useCallback(()=>{D(!1),w&&w.stop(),o.current&&o.current.srcObject&&(o.current.srcObject.getTracks().forEach(d=>d.stop()),o.current.srcObject=null)},[w]),g=u.useCallback(async()=>{if(A(!0),b(null),!("BarcodeDetector"in window)){z(!1),A(!1);return}try{const c=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{min:1280,ideal:3840,max:4096},height:{min:720,ideal:2160,max:2160},frameRate:{ideal:30,max:60}}});if(o.current){o.current.srcObject=c;const d=c.getVideoTracks()[0];S(d),await o.current.play();try{const p=d.getCapabilities(),I={advanced:[]};p.zoom&&(T(!0),W(p.zoom.max),y(p.zoom.min||1)),p.focusMode?.includes("continuous")&&I.advanced.push({focusMode:"continuous"}),p.whiteBalanceMode?.includes("continuous")&&I.advanced.push({whiteBalanceMode:"continuous"}),p.exposureMode?.includes("continuous")&&I.advanced.push({exposureMode:"continuous"}),I.advanced.length>0&&await d.applyConstraints(I)}catch(p){console.warn("Advanced constraints not supported:",p)}A(!1),D(!0)}}catch(c){console.error("Error accessing camera:",c),b(c.name==="NotAllowedError"?"Camera permission denied":"Could not access camera"),A(!1)}},[]);u.useEffect(()=>{t?g():i()},[t,g,i]),u.useEffect(()=>{let c,d=0;const p=300,I="BarcodeDetector"in window?new window.BarcodeDetector({formats:["qr_code","ean_13","ean_8","code_128","code_39","upc_a","upc_e"]}):null,h=async F=>{if(!(!R||!o.current||!I)){if(F-d>p){d=F;try{if(o.current.readyState===o.current.HAVE_ENOUGH_DATA){const M=await I.detect(o.current);if(M.length>0){const V=M[0].rawValue;r(V),i();return}}}catch(M){console.error("Detection error:",M)}}c=requestAnimationFrame(h)}};return R&&(c=requestAnimationFrame(h)),()=>{c&&cancelAnimationFrame(c)}},[R,r,i]);const s=async()=>{if(w&&"applyConstraints"in w)try{await w.applyConstraints({advanced:[{torch:!C}]}),f(!C)}catch(c){console.error("Error toggling torch:",c)}},j=async c=>{if(w&&"applyConstraints"in w)try{await w.applyConstraints({advanced:[{zoom:c}]}),y(c)}catch(d){console.error("Error adjusting zoom:",d)}};return e.jsxs(me,{fullScreen:!0,open:t,onClose:a,TransitionComponent:St,PaperProps:{sx:{bgcolor:"#000",color:"white",overflow:"hidden"}},children:[e.jsx(de,{sx:{position:"relative",bgcolor:"transparent",boxShadow:"none"},children:e.jsxs(xe,{children:[e.jsx(N,{edge:"start",color:"inherit",onClick:a,"aria-label":"close",children:e.jsx(Qe,{})}),e.jsx(m,{sx:{ml:2,flex:1,fontWeight:700},variant:"h6",children:"Scan Barcode"}),w&&e.jsx(N,{color:"inherit",onClick:s,children:C?e.jsx(Ye,{sx:{color:"primary.main"}}):e.jsx(vt,{})})]})}),e.jsxs(n,{sx:{flex:1,position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:"#000"},children:[E&&e.jsx(n,{sx:{position:"absolute",zIndex:2,display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsx(ce,{color:"primary"})}),l&&e.jsxs(n,{sx:{p:4,textAlign:"center",zIndex:2},children:[e.jsx(ie,{severity:"error",sx:{mb:2},children:l}),e.jsx(U,{variant:"contained",onClick:g,children:"Retry"})]}),!v&&e.jsxs(n,{sx:{p:4,textAlign:"center",zIndex:2},children:[e.jsx(ie,{severity:"warning",sx:{mb:2},children:"Native barcode scanning is not supported in this browser. Please use Chrome or Edge."}),e.jsx(U,{variant:"outlined",color:"inherit",onClick:a,children:"Close"})]}),e.jsxs(n,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx("video",{ref:o,style:{width:"100%",height:"100%",objectFit:"cover"},playsInline:!0,muted:!0}),e.jsx(n,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:e.jsx(n,{sx:{width:"280px",height:"280px",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"24px",position:"relative","&::before, &::after":{content:'""',position:"absolute",width:"40px",height:"40px",borderColor:"primary.main",borderStyle:"solid"},"&::before":{top:-2,left:-2,borderTopWidth:4,borderLeftWidth:4,borderBottomWidth:0,borderRightWidth:0,borderTopLeftRadius:"24px"},"&::after":{bottom:-2,right:-2,borderBottomWidth:4,borderRightWidth:4,borderTopWidth:0,borderLeftWidth:0,borderBottomRightRadius:"24px"}},children:e.jsx(n,{sx:{position:"absolute",top:0,left:"10%",width:"80%",height:"2px",bgcolor:"primary.main",boxShadow:"0 0 15px #2196f3",willChange:"transform",animation:"scan 2.5s ease-in-out infinite","@keyframes scan":{"0%":{transform:"translateY(28px)",opacity:0},"50%":{transform:"translateY(140px)",opacity:1},"100%":{transform:"translateY(252px)",opacity:0}}}})})}),e.jsxs(n,{sx:{position:"absolute",bottom:40,display:"flex",gap:2,zIndex:3},children:[k&&e.jsx(U,{variant:"contained",sx:{borderRadius:"20px",bgcolor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},onClick:()=>j(B===1?Math.min(2,P):1),children:B===1?"2x Zoom":"1x Zoom"}),e.jsx(U,{variant:"contained",sx:{borderRadius:"20px",bgcolor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},onClick:s,children:C?"Flash Off":"Flash On"})]})]})]})]})},wt={shopping_cart:e.jsx(he,{}),search:e.jsx($e,{}),tune:e.jsx(gt,{}),favorite:e.jsx(ft,{}),nutrition:e.jsx(Ue,{}),bolt:e.jsx(He,{}),checkroom:e.jsx(jt,{}),water_drop:e.jsx(yt,{}),local_drink:e.jsx(bt,{}),fitness_center:e.jsx(Ne,{})},It=Y.forwardRef(function(a,r){return e.jsx(be,{direction:"up",ref:r,...a})}),q=({name:t,filled:a=!1,className:r=""})=>e.jsx(e.Fragment,{children:wt[t]});function ir(){const t=H(s=>s.activeCategory),a=H(s=>s.setActiveCategory),r=H(s=>s.categories),o=H(s=>s.categoryItems),l=H(s=>s.products),b=H(s=>s.fetchProducts),v=pe(s=>s.fetchRules),z=H(s=>s.isLoading),C=le();u.useEffect(()=>{b(),v()},[b]);const[f,E]=u.useState(null),[A,R]=u.useState(""),[D,w]=u.useState(!1),[S,B]=u.useState(!1),[y,P]=u.useState(""),W=(s,j,c=!0)=>{if(!j)return 0;const d=s.toLowerCase(),p=j.toLowerCase();if(d===p)return 100;if(d.startsWith(p))return 80;if(d.includes(p))return 60;if(!c)return 0;let I=0;const h=p.split("");let F=-1;for(const V of h){const x=d.indexOf(V,F+1);x>-1&&(I++,F=x)}const M=I/p.length*40;return M>20?M:0},k=A?l.filter(s=>y?s.category.toLowerCase().includes(y.toLowerCase()):!0).map(s=>{const j=A.trim().toLowerCase().split(/\s+/),c=o.find(p=>p.name===s.category);let d=0;for(const p of j){const I=W(s.name,p,!1)*10,h=s.sku?W(s.sku,p,!0)*8:0,F=c?.sku?W(c.sku,p,!0)*5:0,M=W(s.detail,p,!0),V=W(s.category,p,!1),x=s.id?W(String(s.id),p,!0):0,L=Math.max(I,h,F,M,V,x);d+=L}return{...s,searchScore:d}}).filter(s=>s.searchScore>0).sort((s,j)=>(j.searchScore||0)-(s.searchScore||0)):l,T=s=>{a(s),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},400)},i=s=>{E(s),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},400)},g=()=>{E(null),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},400)};return e.jsxs(n,{sx:{pb:10,bgcolor:"background.default",minHeight:"100vh",color:"text.primary"},children:[e.jsxs(n,{sx:{position:"sticky",top:0,zIndex:1100,bgcolor:"background.default",borderBottom:1,borderColor:"divider"},children:[e.jsx(qe,{title:"Shop Online",icon:e.jsxs(n,{sx:{position:"relative"},children:[e.jsx(fe,{src:Oe,sx:{width:40,height:40,border:"2px solid",borderColor:"primary.main"},onClick:()=>C({to:"/admin"})}),e.jsx(n,{sx:{position:"absolute",bottom:0,right:0,width:12,height:12,bgcolor:"primary.main",borderRadius:"50%",border:"2px solid",borderColor:"background.paper"}})]}),rightContent:e.jsxs(e.Fragment,{children:[e.jsx(Ve,{sx:{cursor:"pointer",pr:2,color:"text.secondary"},onClick:()=>w(!0)}),e.jsx(Ct,{sx:{cursor:"pointer",pr:2,color:"text.secondary"},onClick:()=>C({to:"/history"})}),e.jsx(ye,{})]})}),e.jsxs(n,{sx:{px:2,pt:0,pb:1.5},children:[e.jsxs(n,{sx:{position:"relative"},children:[e.jsx(n,{sx:{position:"absolute",left:16,top:"50%",transform:"translateY(-50%)",display:"flex",zIndex:100},children:e.jsx(q,{name:"search"})}),e.jsx(G,{placeholder:"Search supplements, gear...",value:A,onChange:s=>R(s.target.value),onKeyDown:s=>{s.key==="Escape"&&(R(""),s.target.blur())},sx:{width:"100%",bgcolor:"background.paper",borderRadius:4,py:1.5,pl:6,pr:6,border:1,borderColor:"divider","&.Mui-focused":{borderColor:"primary.main",boxShadow:"0 0 0 2px rgba(242, 215, 13, 0.2)"}}}),e.jsx(N,{onClick:()=>B(!S),sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",bgcolor:S||y?"primary.main":"action.hover",color:S||y?"common.black":"inherit",p:.5,borderRadius:2,"&:hover":{bgcolor:S||y?"primary.dark":"action.selected"}},children:e.jsx(q,{name:"tune"})})]}),e.jsx(Ke,{in:S,children:e.jsx(n,{sx:{pt:1},children:e.jsx(G,{placeholder:"Filter categories...",value:y,onChange:s=>P(s.target.value),sx:{width:"100%",bgcolor:"background.paper",borderRadius:3,py:1,px:2,border:1,borderColor:"divider",fontSize:"0.9rem"}})})})]})]}),e.jsx(Je,{children:z?e.jsx(n,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:e.jsx(ce,{})}):e.jsxs(e.Fragment,{children:[!A&&e.jsx(n,{sx:{display:"flex",gap:1.5,overflowX:"auto",pb:2,"&::-webkit-scrollbar":{display:"none"}},children:(()=>{const s=r.filter(d=>d!=="All Items");return(l.some(d=>!d.categoryOnly&&(!d.category||!s.includes(d.category)))?[...r,"Un-grouped"]:r).map(d=>e.jsx(We,{label:d,onClick:()=>T(d),sx:{fontWeight:"bold",borderRadius:50,height:40,px:1,bgcolor:"background.paper",color:t===d?"primary.main":"text.secondary",border:1,borderColor:t===d?"primary.main":"divider","&:hover":{bgcolor:t===d?"primary.dark":"action.hover"}}},d))})()}),e.jsx(n,{sx:{px:0,pb:10},children:A?e.jsxs(n,{children:[e.jsxs(m,{variant:"h6",sx:{mb:2,fontWeight:"bold"},children:["Search Results (",k.length,")"]}),k.length>0?e.jsx($,{container:!0,spacing:2,children:k.map(s=>e.jsx($,{size:{xs:6,sm:6,md:3,lg:2,xl:2},children:e.jsx(re,{product:s,onClick:()=>i(s),setActiveCategory:T})},s.id))}):e.jsx(n,{sx:{textAlign:"center",py:8,opacity:.6},children:e.jsxs(m,{variant:"body1",children:['No products found matching "',A,'"']})})]}):e.jsx(e.Fragment,{children:t==="All Items"?e.jsx(e.Fragment,{children:e.jsx($,{container:!0,spacing:2,children:(()=>{const s=r.filter(h=>h!=="All Items"),j=l.filter(h=>!h.categoryOnly&&(!h.category||!s.includes(h.category))),c=r.filter(h=>h!=="All Items").filter(h=>!y||h.toLowerCase().includes(y.toLowerCase())),d=[],p=[];c.forEach(h=>{l.filter(M=>M.category===h).length>0?d.push(h):p.push(h)});const I=h=>{const F=o.find(V=>V.name===h);if(!F)return null;const M=l.filter(V=>V.category===h).length;return e.jsx($,{size:{xs:12,md:4},children:e.jsx(ae,{title:h,count:M,products:[F],onProductClick:()=>T(h),onViewAll:()=>T(h),setActiveCategory:T})},h)};return e.jsxs(e.Fragment,{children:[d.map(I),j.length>0&&(!y||"un-grouped".includes(y.toLowerCase()))&&e.jsx($,{size:{xs:12,md:4},children:e.jsx(ae,{title:"Un-grouped",count:j.length,products:[{id:"ungrouped-dummy",name:"Un-grouped Items",detail:"Items not yet categorized",icon:"shopping_cart",sale:!1,isNew:!1,category:"Un-grouped",imageColor:"#f5f5f5",categoryOnly:!0}],onProductClick:()=>T("Un-grouped"),onViewAll:()=>T("Un-grouped"),setActiveCategory:T})},"Un-grouped"),p.length>0&&e.jsx($,{size:12,children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",my:3},children:[e.jsx(te,{sx:{flex:1}}),e.jsx(m,{variant:"caption",sx:{px:2,fontWeight:"bold",color:"text.secondary",textTransform:"uppercase"},children:"Empty Categories"}),e.jsx(te,{sx:{flex:1}})]})}),p.map(I)]})})()})}):e.jsx(n,{sx:{px:0},children:e.jsx($,{container:!0,spacing:2,children:(()=>{const s=r.filter(c=>c!=="All Items");let j=l;return t==="Un-grouped"?j=l.filter(c=>!c.categoryOnly&&(!c.category||!s.includes(c.category))):j=l.filter(c=>c.category===t&&!c.categoryOnly),j.map(c=>e.jsx($,{size:{xs:6,sm:6,md:6,lg:4,xl:4},children:e.jsx(re,{product:c,onClick:()=>i(c),setActiveCategory:T})},c.id))})()})})})})]})}),e.jsx(At,{open:f!==null,handleClose:g,product:f}),e.jsx(kt,{open:D,onClose:()=>w(!1),onScanSuccess:s=>{w(!1),R(s),window.scrollTo({top:0,behavior:"smooth"})}})]})}const zt=({onClick:t})=>e.jsxs(ge,{onClick:t,sx:{minWidth:120,height:"100%",borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:"action.hover",border:1,borderColor:"divider",cursor:"pointer","&:hover":{borderColor:"primary.main",bgcolor:"action.selected",transform:"scale(1.02)",transition:"all 0.2s"}},children:[e.jsx(fe,{sx:{bgcolor:"primary.main",mb:1.5,width:48,height:48},children:e.jsx(ut,{sx:{color:"black",fontSize:20,ml:.5}})}),e.jsx(m,{variant:"subtitle2",sx:{fontWeight:800,color:"text.primary"},children:"View All"})]}),ae=({title:t,count:a,products:r,onProductClick:o,onViewAll:l,setActiveCategory:b})=>e.jsxs(n,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:0,mb:1.5},children:[e.jsxs(m,{variant:"h6",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5,fontSize:"0.9rem"},children:[t," ",e.jsxs(m,{component:"span",sx:{color:"text.secondary",fontWeight:600},children:["(",a,")"]})]}),e.jsx(U,{size:"small",onClick:l,sx:{fontWeight:700,textTransform:"none",color:"primary.main",minWidth:0,p:0,"&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:"View all"})]}),e.jsxs(n,{sx:{display:"flex",gap:2,overflowX:"auto",px:2,pb:1,"&::-webkit-scrollbar":{display:"none"},scrollSnapType:"x mandatory","& > *":{scrollSnapAlign:"start"}},children:[r.filter(v=>v.categoryOnly).slice(0,1).map(v=>e.jsx(n,{sx:{minWidth:200,maxWidth:200},children:e.jsx(re,{product:v,onClick:o,setActiveCategory:b})},v.id)),e.jsx(n,{sx:{minWidth:120,py:.5},children:e.jsx(zt,{onClick:l})})]})]}),At=({open:t,handleClose:a,product:r})=>{const[o,l]=u.useState(1),[b,v]=u.useState(""),[z,C]=u.useState(""),[f,E]=u.useState(null),A=_(i=>i.addToCart),R=_(i=>i.items),D=_(i=>i.updateQuantity),{rules:w}=pe(),S=R.find(i=>i.id===r?.id&&i.selectedSize?.label===f?.label);if(Y.useEffect(()=>{t&&r&&(S?l(S.quantity):(l(1),v(""),C("")))},[t,r?.id,f?.label]),Y.useEffect(()=>{if(r?.isComplexVariant&&b&&z){const i=Number(b)*Number(z);l(Math.round(i*100)/100)}},[b,z,r?.isComplexVariant]),Y.useEffect(()=>{t&&r&&!f&&r.sizes&&r.sizes.length>0&&E(r.sizes[0])},[t,r]),!r)return null;const B=f?f.price:r.price;let y=0;if(r.taxRuleId){const i=w.find(g=>g.id===r.taxRuleId);i&&(i.valueType==="percentage"?y=B*(i.value/100):y=i.value)}let P=0;r.addonRuleIds&&r.addonRuleIds.length>0&&r.addonRuleIds.forEach(i=>{const g=w.find(s=>s.id===i);g&&(g.valueType==="percentage"?P+=B*(g.value/100):P+=g.value)});const W=B,k=W+y+P,T=()=>{let i=f;r.isComplexVariant&&(i={label:`${b} x ${z} ${r.unitName||"units"}`,price:B}),S?(r.isComplexVariant?R.find(s=>s.id===r.id&&s.selectedSize?.label===i.label):S)?D(r.id,o,i?.label):A({id:r.id,sku:r.sku,name:r.name,buyPrice:W,taxAmount:y,addonAmount:P,totalPrice:k,src:r.src,quantity:o,selectedSize:i,category:r.category,isComplexVariant:r.isComplexVariant,unitName:r.unitName}):A({id:r.id,sku:r.sku,name:r.name,buyPrice:W,taxAmount:y,addonAmount:P,totalPrice:k,src:r.src,quantity:o,selectedSize:i,category:r.category,isComplexVariant:r.isComplexVariant,unitName:r.unitName}),a()};return e.jsx(me,{fullScreen:!0,open:t,onClose:a,TransitionComponent:It,PaperProps:{sx:{bgcolor:"background.default",color:"text.primary"}},children:e.jsxs(n,{sx:{position:"relative",display:"flex",flexDirection:"column",height:"100%",maxWidth:"sm",mx:"auto",width:"100%",bgcolor:"background.paper",boxShadow:i=>i.shadows[10]},children:[e.jsx(de,{sx:{position:"sticky",bgcolor:"background.paper",color:"text.primary",boxShadow:"none",borderBottom:1,borderColor:"divider"},children:e.jsxs(xe,{sx:{justifyContent:"space-between",minHeight:56},children:[e.jsx(N,{edge:"start",onClick:a,"aria-label":"close",size:"small",children:e.jsx(Ee,{fontSize:"small"})}),e.jsx(m,{sx:{fontWeight:800,fontSize:"1.1rem",letterSpacing:-.5},variant:"h6",children:"Product Details"}),e.jsx(n,{sx:{position:"relative",display:"flex"},children:e.jsx(ye,{})})]})}),e.jsxs(n,{sx:{flex:1,overflowY:"auto",pb:13},children:[e.jsxs(n,{sx:{width:"100%",aspectRatio:"16/9",bgcolor:"#121212",borderRadius:"0 0 20px 20px",position:"relative",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"inset 0 -10px 20px rgba(0,0,0,0.2)"},children:[r.src&&e.jsx(n,{component:"img",src:r.src,alt:r.name,sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}),e.jsx(n,{sx:{position:"absolute",bottom:12,right:12,bgcolor:"rgba(0,0,0,0.6)",color:"white",px:1.2,py:.4,borderRadius:10,fontSize:11,fontWeight:"bold",backdropFilter:"blur(8px)",zIndex:1},children:"1 / 3"})]}),e.jsxs(n,{sx:{px:2.5,pt:2.5},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:.5},children:[e.jsxs(n,{sx:{flex:1,pr:2},children:[e.jsx(m,{variant:"h6",sx:{fontWeight:800,lineHeight:1.2,mb:.5},children:r.name}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:.5,color:"success.main"},children:[e.jsx(Pe,{sx:{fontSize:14}}),e.jsx(m,{variant:"caption",sx:{fontWeight:600},children:"In Stock • Ready to ship"})]}),r.sku&&e.jsxs(m,{variant:"caption",sx:{fontWeight:800,color:"text.disabled",letterSpacing:1,mt:.5,display:"block"},children:["SKU: ",r.sku]})]}),e.jsxs(n,{sx:{textAlign:"right"},children:[e.jsxs(m,{variant:"h6",color:"primary.main",sx:{fontWeight:800,lineHeight:1},children:["₹",k?.toFixed(2)]}),(y>0||P>0)&&e.jsxs(e.Fragment,{children:[e.jsxs(m,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,fontSize:"0.7rem"},children:["(Base: ₹",W.toFixed(2),")"]}),e.jsxs(m,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.2,fontSize:"0.7rem"},children:["(Tax: ₹",y.toFixed(2),")"]}),e.jsxs(m,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.2,fontSize:"0.7rem"},children:["(Addon: ₹",P.toFixed(2),")"]})]})]})]}),e.jsx(te,{sx:{my:2,opacity:.6}}),e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(n,{children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[e.jsx(m,{variant:"caption",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:1,color:"text.secondary"},children:"Size Selection"}),e.jsx(U,{variant:"text",size:"small",startIcon:e.jsx(Fe,{sx:{fontSize:"14px !important"}}),sx:{textTransform:"none",color:"text.secondary",fontSize:"0.75rem",fontWeight:600,minWidth:0,p:0},children:"Size Guide"})]}),r.sizes&&r.sizes.length>0?e.jsx(Xe,{fullWidth:!0,size:"small",children:e.jsx(Ze,{value:f?f.label:"",onChange:i=>{const g=r.sizes.find(s=>s.label===i.target.value);E(g)},sx:{borderRadius:2,fontWeight:700,fontSize:"0.85rem",bgcolor:"background.paper","& .MuiSelect-select":{py:1}},children:r.sizes.map(i=>e.jsxs(Me,{value:i.label,children:[i.label," - ₹",i.price.toFixed(2)]},i.label))})}):e.jsx(m,{variant:"body2",sx:{fontWeight:600,color:"text.secondary",bgcolor:"action.hover",p:1,borderRadius:2,textAlign:"center"},children:"SIngle Variant"})]}),e.jsxs(n,{sx:{bgcolor:"action.hover",borderRadius:3,p:2,display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[e.jsx(n,{sx:{flex:1,mr:2},children:r.isComplexVariant?e.jsxs(n,{sx:{width:"100%"},children:[e.jsxs(m,{variant:"caption",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5,color:"text.secondary",display:"block",mb:1},children:["Measurements (",r.unitName,")"]}),e.jsxs(n,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(G,{type:"number",placeholder:"X",value:b,onChange:i=>v(Number(i.target.value)),sx:{bgcolor:"background.paper",border:1,borderColor:"divider",borderRadius:2,px:2,py:1,width:"100%",fontWeight:"bold"}}),e.jsx(m,{sx:{color:"text.secondary",fontWeight:"bold"},children:"x"}),e.jsx(G,{type:"number",placeholder:"Y",value:z,onChange:i=>C(Number(i.target.value)),sx:{bgcolor:"background.paper",border:1,borderColor:"divider",borderRadius:2,px:2,py:1,width:"100%",fontWeight:"bold"}})]}),e.jsxs(m,{variant:"body2",sx:{mt:1,fontWeight:"bold",color:"primary.main",textAlign:"right"},children:["Total: ",o," ",r.unitName,"²"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"caption",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5,color:"text.secondary",display:"block",mb:.5},children:"Quantity"}),e.jsx(Ge,{quantity:o,onQuantityChange:l})]})}),e.jsxs(n,{sx:{textAlign:"right",marginTop:"auto",marginBottom:"auto"},children:[e.jsx(m,{variant:"caption",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5,color:"text.secondary",display:"block",mb:.5},children:"Total Value"}),e.jsxs(m,{sx:{fontWeight:900,color:"text.primary",fontSize:"1.1rem"},children:["₹",(k*o).toFixed(2)]})]})]}),e.jsxs(n,{children:[e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsx(m,{variant:"subtitle1",sx:{fontWeight:800},children:"Description"}),e.jsx(mt,{sx:{fontSize:16,color:"text.disabled"}})]}),e.jsx(m,{variant:"body2",color:"text.secondary",sx:{lineHeight:1.6,fontSize:"0.875rem"},children:r.detail}),e.jsxs(n,{sx:{mt:2.5,p:1.5,borderRadius:3,display:"flex",gap:1.5,bgcolor:"primary.light",background:"linear-gradient(135deg, rgba(242, 215, 13, 0.1) 0%, rgba(242, 215, 13, 0.05) 100%)",border:"1px solid rgba(242, 215, 13, 0.2)",alignItems:"center"},children:[e.jsx(n,{sx:{width:36,height:36,borderRadius:"10px",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",color:"common.black",flexShrink:0},children:e.jsx(Be,{sx:{fontSize:18}})}),e.jsxs(n,{children:[e.jsx(m,{sx:{fontWeight:800,fontSize:"0.8rem",color:"text.primary"},children:"Free Desk Delivery"}),e.jsx(m,{sx:{fontSize:"0.7rem",color:"text.secondary",fontWeight:500},children:"Collection available within 2 hours at front desk"})]})]})]})]})]})]}),e.jsx(n,{sx:{position:"fixed",bottom:0,left:0,right:0,p:2,bgcolor:"background.paper",borderTop:1,borderColor:"divider",maxWidth:"sm",mx:"auto",zIndex:10},children:e.jsxs(U,{fullWidth:!0,variant:"contained",size:"large",onClick:T,sx:{py:2,borderRadius:4,fontWeight:800,textTransform:"none",fontSize:"1.1rem",bgcolor:S?"success.main":"primary.main",color:S?"white":"black",boxShadow:"0 8px 20px -4px rgba(242, 215, 13, 0.4)","&:hover":{bgcolor:S?"success.dark":"primary.dark"}},children:["Add to Cart • ₹",(k*o).toFixed(2)]})})]})})},re=({product:t,onClick:a,setActiveCategory:r})=>{const l=_(b=>b.items).some(b=>b.id===t.id);return e.jsx(ge,{onClick:()=>{t.categoryOnly?r(t.category):a(t)},sx:{cursor:"pointer",borderRadius:4,height:"100%",display:"flex",flexDirection:"column",bgcolor:"background.paper",border:1,borderColor:"divider",boxShadow:"0 2px 6px -1px rgba(0, 0, 0, 0.1),0 2px 4px -1px rgba(0, 0, 0, 0.06)","&:hover":{borderColor:"primary.main"}},children:e.jsxs(et,{sx:{p:1.5,flex:1,display:"flex",flexDirection:"column"},children:[e.jsxs(n,{sx:{aspectRatio:"1/1",bgcolor:"action.hover",borderRadius:3,mb:1.5,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:[t.src?e.jsx("img",{loading:"lazy",src:t.src,alt:t.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:3}}):e.jsx(q,{name:t.icon,className:"!text-6xl text-gray-400"}),t.sale&&e.jsx(n,{sx:{position:"absolute",top:8,left:8,bgcolor:"secondary.main",color:"white",fontSize:10,fontWeight:"bold",px:1,py:.25,borderRadius:10,textTransform:"uppercase"},children:"Sale"}),t.isNew&&e.jsx(n,{sx:{position:"absolute",top:8,left:8,bgcolor:"info.main",color:"black",fontSize:10,fontWeight:"bold",px:1,py:.25,borderRadius:10,textTransform:"uppercase"},children:"New"}),e.jsx(N,{size:"small",sx:{position:"absolute",top:8,right:8,bgcolor:"background.paper",backdropFilter:"blur(4px)",backgroundColor:"#ffffff63",color:"text.secondary","&:hover":{color:"secondary.main"}},children:e.jsx(q,{name:"favorite",className:"!text-lg"})})]}),e.jsx(m,{variant:"body2",sx:{fontWeight:"bold",lineHeight:1.2,mb:.5,overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:t.name}),e.jsx(m,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:t.detail?.length>30?t.detail.substring(0,30)+"...":t.detail}),t.sku&&e.jsxs(m,{variant:"caption",color:"text.disabled",sx:{display:"block",fontWeight:800,fontSize:"0.65rem",mt:.5,letterSpacing:.5},children:["SKU: ",t.sku]}),!t.categoryOnly&&e.jsxs(n,{sx:{mt:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsx(n,{sx:{display:"flex",flexDirection:"column"},children:e.jsxs(m,{variant:"subtitle1",sx:{fontWeight:"bold",color:t.sale?"primary.main":"text.primary",lineHeight:1},children:["₹",t?.price?.toFixed(2)]})}),e.jsx(N,{sx:{bgcolor:l?"primary.main":"action.hover",color:l?"black":"text.primary",borderRadius:3,width:36,height:36,"&:hover":{bgcolor:"primary.main",color:"black"}},children:e.jsx(De,{})})]})]})})};export{ir as component};

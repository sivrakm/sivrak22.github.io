import{j as e,r as k,a as z}from"./index-BxCZ3gJB.js";import{u as l}from"./cartStore-8akX6DNN.js";import{u as F}from"./pricingStore-CUQLi3o4.js";import{c as A,B as n,T as t,a as y}from"./Button-dAB4gEN8.js";import{I as c}from"./IconButton-Dcn8gMAF.js";import{C as I}from"./Card-DMKlaXqL.js";import{A as W}from"./Add-uZZjbPlm.js";import{R,E as T,B as D}from"./EnergySavingsLeaf-BbVHA8oH.js";import{D as P}from"./Delete-DpXYm6PS.js";import{F as _}from"./FitnessCenter-Bk5B1JdR.js";import{S as B}from"./ShoppingCart-llfKQigw.js";import{A as q}from"./ArrowBack-Ks9GZWNe.js";const H=A(e.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),E={arrow_back:e.jsx(q,{}),arrow_forward:e.jsx(H,{}),shopping_cart_off:e.jsx(B,{}),bolt:e.jsx(D,{}),fitness_center:e.jsx(_,{}),nutrition:e.jsx(T,{}),delete:e.jsx(P,{}),remove:e.jsx(R,{}),add:e.jsx(W,{})},i=({name:r,filled:a=!1,className:d=""})=>e.jsx(e.Fragment,{children:E[r]});function Z(){const r=l(o=>o.items),a=l(o=>o.updateQuantity),d=l(o=>o.removeFromCart),x=l(o=>o.clearCart),j=l(o=>o.getTotalPrice),{fetchDeliveryConfig:u,deliveryConfig:f}=F();k.useEffect(()=>{u()},[]);const m=z(),v=o=>{a(o.id,o.quantity+1,o.selectedSize?.label)},C=o=>{a(o.id,o.quantity-1,o.selectedSize?.label)},w=o=>{d(o.id,o.selectedSize?.label)},g=j(),h=r.reduce((o,s)=>o+(s.taxAmount||0)*s.quantity,0),p=r.reduce((o,s)=>o+(s.addonAmount||0)*s.quantity,0),b=f.enabled?f.amount:0,S=g+h+p+b;return e.jsxs(n,{sx:{pb:30,bgcolor:"background.default",minHeight:"100vh",color:"text.primary",position:"relative"},children:[e.jsx(n,{sx:{position:"sticky",top:0,zIndex:1100,bgcolor:"background.default/90",backdropFilter:"blur(20px)",borderBottom:1,borderColor:"divider"},children:e.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pl:2,pr:1,height:64},children:[e.jsx(c,{sx:{ml:-1,bgcolor:"action.hover"},onClick:()=>m({to:"/shop"}),children:e.jsx(i,{name:"arrow_back"})}),e.jsxs(t,{variant:"h6",sx:{fontWeight:"bold"},children:["My Cart ",e.jsxs(t,{component:"span",variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:["(",r.length,")"]})]}),e.jsx(y,{onClick:x,sx:{color:"warning.main",fontWeight:500,minWidth:"auto","&:hover":{color:"text.primary"}},children:"Clear"})]})}),e.jsxs(n,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[r.map((o,s)=>e.jsx(L,{item:o,onIncrement:()=>v(o),onDecrement:()=>C(o),onDelete:()=>w(o)},`${o.id}-${o.selectedSize?.label||"default"}-${s}`)),r.length===0&&e.jsxs(n,{sx:{textAlign:"center",py:8,color:"text.secondary"},children:[e.jsx(i,{name:"shopping_cart_off",className:"!text-6xl mb-2"}),e.jsx(t,{children:"Your cart is empty"})]})]}),r.length>0&&e.jsxs(n,{sx:{position:"fixed",bottom:0,left:0,right:0,bgcolor:"background.paper",borderTop:1,borderColor:"divider",p:3,pb:4,borderTopLeftRadius:24,borderTopRightRadius:24,boxShadow:"0 -8px 30px rgba(0,0,0,0.1)",zIndex:1e3},children:[e.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:1.5,mb:3},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",fontWeight:500,color:"text.secondary"},children:[e.jsx(t,{variant:"body2",color:"inherit",children:"Subtotal"}),e.jsxs(t,{variant:"body2",color:"text.primary",children:["₹",g.toFixed(2)]})]}),h>0&&e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",fontWeight:500,color:"text.secondary"},children:[e.jsx(t,{variant:"body2",color:"inherit",children:"Tax"}),e.jsxs(t,{variant:"body2",color:"text.primary",children:["₹",h.toFixed(2)]})]}),p>0&&e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",fontWeight:500,color:"text.secondary"},children:[e.jsx(t,{variant:"body2",color:"inherit",children:"Add-ons"}),e.jsxs(t,{variant:"body2",color:"text.primary",children:["₹",p.toFixed(2)]})]}),b>0&&e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",fontWeight:500,color:"text.secondary"},children:[e.jsx(t,{variant:"body2",color:"inherit",children:"Delivery Charge"}),e.jsxs(t,{variant:"body2",color:"text.primary",children:["₹",b.toFixed(2)]})]}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pt:1.5,borderTop:"1px dashed",borderColor:"divider"},children:[e.jsx(t,{variant:"body1",sx:{fontWeight:"bold",fontSize:"1rem",lineHeight:"1"},children:"Total Amount"}),e.jsxs(t,{variant:"h5",sx:{fontWeight:"bold",color:"primary.main",fontSize:"1rem",lineHeight:"1"},children:["₹",S.toFixed(2)]})]})]}),e.jsxs(y,{variant:"outlined",color:"primary",fullWidth:!0,size:"large",sx:{borderRadius:4,py:2,fontSize:"1.125rem",fontWeight:"bold",textTransform:"none",boxShadow:"0 8px 20px -4px rgba(231, 242, 13, 0.3)",display:"flex",justifyContent:"center",gap:1.5},onClick:()=>m({to:"/placeorder"}),children:["Proceed to Checkout",e.jsx(i,{name:"arrow_forward"})]})]})]})}const L=({item:r,onIncrement:a,onDecrement:d,onDelete:x})=>e.jsxs(I,{sx:{display:"flex",p:2,borderRadius:3,bgcolor:"background.paper",boxShadow:"none",border:1,borderColor:"divider",gap:2,position:"relative",overflow:"visible"},children:[e.jsx(n,{sx:{width:96,height:96,bgcolor:"action.hover",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden"},children:r.src?e.jsx("img",{src:r.src,alt:r.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(i,{name:"fitness_center"})}),e.jsxs(n,{sx:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:[e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:.5},children:[e.jsx(t,{variant:"subtitle2",style:{fontWeight:"bold",lineHeight:1.2,marginRight:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:r.name}),e.jsx(c,{size:"small",onClick:x,sx:{mt:-1,mr:-1,color:"text.disabled","&:hover":{color:"warning.main"}},children:e.jsx(i,{name:"delete"})})]}),e.jsx(t,{variant:"caption",color:"text.secondary",sx:{mb:"auto"},children:r.selectedSize?`${r.selectedSize.label}`:"Single Variant"}),e.jsxs(n,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",mt:1},children:[e.jsxs(n,{children:[e.jsxs(t,{variant:"h6",sx:{fontWeight:"bold",color:"primary.main",fontSize:"1.125rem",lineHeight:1},children:["₹",((r.totalPrice||r.buyPrice)*r.quantity).toFixed(2)]}),e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,fontSize:"0.75rem",mt:.5,display:"block"},children:["(",r.quantity," x ₹",(r.totalPrice||r.buyPrice).toFixed(2),")"]}),(r.taxAmount>0||r.addonAmount>0)&&e.jsxs(t,{variant:"caption",color:"text.secondary",sx:{display:"block",fontSize:"0.65rem",mt:.2},children:[r.buyPrice>0&&e.jsxs(e.Fragment,{children:["Base: ₹",r.buyPrice.toFixed(2),e.jsx("br",{})]}),r.taxAmount>0&&e.jsxs(e.Fragment,{children:["Tax: ₹",r.taxAmount.toFixed(2),e.jsx("br",{})]}),r.addonAmount>0&&e.jsxs(e.Fragment,{children:["Addon: ₹",r.addonAmount.toFixed(2),e.jsx("br",{})]})]})]}),e.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:.5,bgcolor:"action.hover",borderRadius:2,p:.5},children:[e.jsx(c,{size:"small",onClick:d,sx:{width:32,height:32,bgcolor:"background.paper",color:"text.secondary",borderRadius:1.5,boxShadow:1,"&:hover":{bgcolor:"background.paper"}},children:e.jsx(i,{name:"remove"})}),e.jsx(t,{variant:"body2",sx:{fontWeight:"bold",width:24,textAlign:"center"},children:r.quantity}),e.jsx(c,{size:"small",onClick:a,sx:{width:32,height:32,bgcolor:"primary.main",color:"black",borderRadius:1.5,boxShadow:1,"&:hover":{bgcolor:"primary.main"}},children:e.jsx(i,{name:"add"})})]})]})]})]});export{Z as component};

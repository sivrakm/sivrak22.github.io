import{n as c,a9 as y,v as i,q as d,x as v,s as P,o as t,z as p,F as h,G as D}from"./index-Cp2I37WV.js";const g=c(s=>({deliveryPersons:[],loading:!1,fetchDeliveryPersons:async()=>{s({loading:!0});try{const r=p(t(d,"deliveryPersons"),h("name")),o=(await D(r)).docs.map(a=>({id:a.id,...a.data()}));s({deliveryPersons:o,loading:!1})}catch(r){console.error("Error fetching delivery persons:",r),s({loading:!1})}},addDeliveryPerson:async r=>{try{const o={id:(await P(t(d,"deliveryPersons"),{...r,createdAt:new Date})).id,...r};s(a=>({deliveryPersons:[...a.deliveryPersons,o].sort((n,l)=>n.name.localeCompare(l.name))}))}catch(e){throw console.error("Error adding delivery person:",e),e}},updateDeliveryPerson:async r=>{try{const{id:e,...o}=r;await v(i(d,"deliveryPersons",e),o),s(a=>({deliveryPersons:a.deliveryPersons.map(n=>n.id===e?r:n)}))}catch(e){throw console.error("Error updating delivery person:",e),e}},deleteDeliveryPerson:async r=>{try{await y(i(d,"deliveryPersons",r)),s(e=>({deliveryPersons:e.deliveryPersons.filter(o=>o.id!==r)}))}catch(e){throw console.error("Error deleting delivery person:",e),e}}}));export{g as u};

import{f as b,j as e,r as u,a as A,B as r,I as f,h as n,k as I,l as W,A as D}from"./index-hWqqEidX.js";import{u as a}from"./cartStore-DU6kYG6s.js";import{u as R}from"./pricingStore-CGBSpTbx.js";import{Q as T,R as B}from"./QuantitySelector-BvALjoV0.js";import{B as g}from"./Button-BfS2zT8f.js";import{A as P}from"./Add-DPs_5mhO.js";import{D as _}from"./Delete-CI7nSIiw.js";import{E as q,B as E}from"./EnergySavingsLeaf-DMs1PuYf.js";import{F as H}from"./FitnessCenter-BwZHc6gT.js";import{S as L}from"./ShoppingCart-CFWX_zRF.js";import"./TextField-DwE7O7_A.js";import"./isMuiElement-lysYTGo2.js";const Q=b(e.jsx("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),M=b(e.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6z"})),N=b(e.jsx("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"})),$={arrow_back:e.jsx(D,{}),arrow_forward:e.jsx(Q,{}),shopping_cart_off:e.jsx(L,{}),bolt:e.jsx(E,{}),fitness_center:e.jsx(H,{}),nutrition:e.jsx(q,{}),delete:e.jsx(_,{}),remove:e.jsx(B,{}),add:e.jsx(P,{})},l=({name:o,filled:d=!1,className:c=""})=>e.jsx(e.Fragment,{children:$[o]});function ne(){const o=a(t=>t.items),d=a(t=>t.updateQuantity),c=a(t=>t.removeFromCart),v=a(t=>t.clearCart),C=a(t=>t.getTotalPrice),{fetchDeliveryConfig:w,deliveryConfig:y}=R(),[i,S]=u.useState(!1);u.useEffect(()=>{w()},[]);const j=A(),z=t=>{c(t.id,t.selectedSize?.label)},m=C(),x=o.reduce((t,s)=>t+(s.taxAmount||0)*s.quantity,0),h=o.reduce((t,s)=>t+(s.addonAmount||0)*s.quantity,0),p=y.enabled?y.amount:0,F=m+x+h+p;return e.jsxs(r,{sx:{pb:30,bgcolor:"background.default",minHeight:"100vh",color:"text.primary",position:"relative"},children:[e.jsx(r,{sx:{position:"sticky",top:0,zIndex:1100,bgcolor:"background.default/90",backdropFilter:"blur(20px)",borderBottom:1,borderColor:"divider"},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",pl:2,pr:1,height:64},children:[e.jsx(f,{sx:{ml:-1,bgcolor:"action.hover"},onClick:()=>j({to:"/shop"}),children:e.jsx(l,{name:"arrow_back"})}),e.jsxs(n,{variant:"h6",sx:{fontWeight:"bold"},children:["My Cart ",e.jsxs(n,{component:"span",variant:"body2",color:"text.secondary",sx:{fontWeight:500},children:["(",o.length,")"]})]}),e.jsx(g,{onClick:v,sx:{color:"warning.main",fontWeight:500,minWidth:"auto","&:hover":{color:"text.primary"}},children:"Clear"})]})}),e.jsxs(r,{sx:{p:2,display:"flex",flexDirection:"column",gap:2},children:[o.map((t,s)=>e.jsx(K,{item:t,onQuantityChange:k=>d(t.id,k,t.selectedSize?.label),onDelete:()=>z(t)},`${t.id}-${t.selectedSize?.label||"default"}-${s}`)),o.length===0&&e.jsxs(r,{sx:{textAlign:"center",py:8,color:"text.secondary"},children:[e.jsx(l,{name:"shopping_cart_off",className:"!text-6xl mb-2"}),e.jsx(n,{children:"Your cart is empty"})]})]}),o.length>0&&e.jsxs(r,{sx:{position:"fixed",bottom:0,left:0,right:0,bgcolor:"background.paper",borderTop:1,borderColor:"divider",p:3,pb:4,borderTopLeftRadius:24,borderTopRightRadius:24,boxShadow:"0 -8px 30px rgba(0,0,0,0.1)",zIndex:1e3},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"column",mb:2},children:[e.jsx(I,{in:i,children:e.jsxs(r,{sx:{display:"flex",flexDirection:"column",gap:1.5,mb:2},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",fontWeight:500,color:"text.secondary"},children:[e.jsx(n,{variant:"body2",color:"inherit",children:"Subtotal"}),e.jsxs(n,{variant:"body2",color:"text.primary",children:["₹",m.toFixed(2)]})]}),x>0&&e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",fontWeight:500,color:"text.secondary"},children:[e.jsx(n,{variant:"body2",color:"inherit",children:"Tax"}),e.jsxs(n,{variant:"body2",color:"text.primary",children:["₹",x.toFixed(2)]})]}),h>0&&e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",fontWeight:500,color:"text.secondary"},children:[e.jsx(n,{variant:"body2",color:"inherit",children:"Add-ons"}),e.jsxs(n,{variant:"body2",color:"text.primary",children:["₹",h.toFixed(2)]})]}),p>0&&e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",fontSize:"0.875rem",fontWeight:500,color:"text.secondary"},children:[e.jsx(n,{variant:"body2",color:"inherit",children:"Delivery Charge"}),e.jsxs(n,{variant:"body2",color:"text.primary",children:["₹",p.toFixed(2)]})]})]})}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pt:i?1.5:0,borderTop:i?"1px dashed":"none",borderColor:"divider",cursor:"pointer"},onClick:()=>S(!i),children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(n,{variant:"body1",sx:{fontWeight:"bold",fontSize:"1rem",lineHeight:"1"},children:"Total Amount"}),e.jsx(f,{size:"small",sx:{p:.5,bgcolor:"action.hover"},children:i?e.jsx(M,{fontSize:"small"}):e.jsx(N,{fontSize:"small"})})]}),e.jsxs(n,{variant:"h5",sx:{fontWeight:"bold",color:"primary.main",fontSize:"1rem",lineHeight:"1"},children:["₹",F.toFixed(2)]})]})]}),e.jsxs(g,{variant:"outlined",color:"primary",fullWidth:!0,size:"large",sx:{borderRadius:4,py:2,fontSize:"1.125rem",fontWeight:"bold",textTransform:"none",boxShadow:"0 8px 20px -4px rgba(231, 242, 13, 0.3)",display:"flex",justifyContent:"center",gap:1.5},onClick:()=>j({to:"/placeorder"}),children:["Proceed to Checkout",e.jsx(l,{name:"arrow_forward"})]})]})]})}const K=({item:o,onQuantityChange:d,onDelete:c})=>e.jsxs(W,{sx:{display:"flex",p:2,borderRadius:3,bgcolor:"background.paper",boxShadow:"none",border:1,borderColor:"divider",gap:2,position:"relative",overflow:"visible"},children:[e.jsx(r,{sx:{width:96,height:96,bgcolor:"action.hover",borderRadius:2,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden"},children:o.src?e.jsx("img",{src:o.src,alt:o.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsx(l,{name:"fitness_center"})}),e.jsxs(r,{sx:{flex:1,display:"flex",flexDirection:"column",minWidth:0},children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:.5},children:[e.jsx(n,{variant:"subtitle2",style:{fontWeight:"bold",lineHeight:1.2,marginRight:1,whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},children:o.name}),e.jsx(f,{size:"small",onClick:c,sx:{mt:-1,mr:-1,color:"text.disabled","&:hover":{color:"warning.main"}},children:e.jsx(l,{name:"delete"})})]}),e.jsx(n,{variant:"caption",color:"text.secondary",sx:{mb:"auto"},children:o.selectedSize?`${o.selectedSize.label}`:"Single Variant"}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",mt:1},children:[e.jsxs(r,{children:[e.jsxs(n,{variant:"h6",sx:{fontWeight:"bold",color:"primary.main",fontSize:"1.125rem",lineHeight:1},children:["₹",((o.totalPrice||o.buyPrice)*o.quantity).toFixed(2)]}),e.jsxs(n,{variant:"caption",color:"text.secondary",sx:{fontWeight:600,fontSize:"0.75rem",mt:.5,display:"block"},children:["(",o.quantity," x ₹",(o.totalPrice||o.buyPrice).toFixed(2),")"]}),(o.taxAmount>0||o.addonAmount>0)&&e.jsxs(n,{variant:"caption",color:"text.secondary",sx:{display:"block",fontSize:"0.65rem",mt:.2},children:[o.buyPrice>0&&e.jsxs(e.Fragment,{children:["Base: ₹",o.buyPrice.toFixed(2),e.jsx("br",{})]}),o.taxAmount>0&&e.jsxs(e.Fragment,{children:["Tax: ₹",o.taxAmount.toFixed(2),e.jsx("br",{})]}),o.addonAmount>0&&e.jsxs(e.Fragment,{children:["Addon: ₹",o.addonAmount.toFixed(2),e.jsx("br",{})]})]})]}),e.jsx(r,{children:o.isComplexVariant?e.jsxs(n,{variant:"body2",sx:{fontWeight:"bold",bgcolor:"action.hover",px:1.5,py:.5,borderRadius:2},children:[o.quantity," ",o.unitName]}):e.jsx(T,{quantity:o.quantity,onQuantityChange:d})})]})]})]});export{ne as component};

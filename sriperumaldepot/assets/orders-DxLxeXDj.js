import{a as p,j as e,B as r,I as h,h as t,m,S as l,y as f}from"./index-Cp2I37WV.js";import{u as b}from"./orderStore-Bk3JEbQR.js";import{p as y,a as j}from"./printInvoice-0Z7hnYZb.js";import{O as g}from"./OrderItem-ngo4I1yh.js";import{C as u}from"./Close-CDRBmMs-.js";import{C as v}from"./CheckCircle-Cn5NRRkC.js";import{P as C}from"./Phone-Bt5g39SG.js";import{B as n}from"./Button-BhddC0uT.js";import{P as d}from"./Print-DYjWOnpm.js";import{H as W}from"./Home-B28n4KG8.js";import"./ShoppingCart-DD5dTHTw.js";const x=f`
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
`;function B(){const a=p(),o=b(i=>i.lastOrder),c=()=>{a({to:"/shop"})};return e.jsxs(r,{sx:{pb:30,bgcolor:"background.default",minHeight:"100vh",color:"text.primary",position:"relative"},children:[e.jsx(r,{sx:{position:"sticky",top:0,zIndex:1100,bgcolor:"background.default",borderBottom:1,borderColor:"divider"},children:e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",px:2,height:64},children:[e.jsx(h,{sx:{ml:-1},onClick:()=>a({to:"/shop"}),children:e.jsx(u,{})}),e.jsx(t,{variant:"h6",sx:{fontWeight:"bold"},children:"Confirmation"}),e.jsx(r,{sx:{width:40}})," "]})}),e.jsxs(r,{sx:{p:2,pt:1},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",py:6,textAlign:"center",animation:`${x} 0.6s ease-out forwards`},children:[e.jsx(r,{sx:{width:80,height:80,bgcolor:o?.isOffline?"rgba(255, 152, 0, 0.1)":"rgba(10, 191, 16, 0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",mb:2},children:e.jsx(v,{sx:{fontSize:"3rem",color:o?.isOffline?"warning.main":"success.main"}})}),e.jsx(t,{variant:"h4",sx:{fontWeight:"bold",mb:.5,color:"text.primary"},children:o?.isOffline?"Estimate Placed Offline Mode":"Estimate Placed!"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:o?.isOffline?"Data Not Saved Locally. Please upload when online.":"Thank you for shopping with us."})]}),e.jsxs(r,{sx:{mb:8,animation:`${x} 0.6s ease-out forwards`,animationDelay:"0.1s",opacity:0},children:[e.jsxs(r,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:1.5,px:.5},children:[e.jsxs(t,{variant:"caption",sx:{fontWeight:"bold",color:"text.secondary",textTransform:"uppercase",letterSpacing:1.5,fontSize:"0.625rem"},children:["Current ","Estimate"," Details"]}),e.jsx(r,{sx:{fontSize:"0.625rem",textTransform:"uppercase",fontWeight:"bold",letterSpacing:1,bgcolor:o?.isOffline?"rgba(255, 152, 0, 0.1)":"rgba(76, 175, 80, 0.1)",color:o?.isOffline?"warning.main":"success.main",px:1,py:.5,borderRadius:10},children:o?.isOffline?"Offline Mode":"Success"})]}),e.jsxs(m,{sx:{borderRadius:3,border:1,borderColor:"divider",overflow:"hidden",boxShadow:"none"},children:[e.jsxs(r,{sx:{p:2.5,borderBottom:1,borderColor:"divider",display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[e.jsxs(r,{children:[e.jsx(t,{variant:"caption",sx:{color:"text.disabled",mb:.5,display:"block"},children:"Contact Number"}),e.jsxs(r,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(C,{sx:{fontSize:"0.875rem",color:"primary.main"}}),e.jsx(t,{variant:"body2",sx:{fontWeight:500},children:o?.shippingDetails?.phoneNumber})]})]}),e.jsxs(r,{sx:{textAlign:"right"},children:[e.jsx(t,{variant:"caption",sx:{color:"text.disabled",mb:.5,display:"block"},children:"Total Paid"}),e.jsxs(t,{variant:"h5",sx:{fontWeight:"bold",color:"primary.main"},children:["₹",o?.total.toFixed(2)]})]})]}),e.jsx(r,{sx:{p:2.5,bgcolor:"action.hover",display:"flex",flexDirection:"column",gap:2},children:o?.items?.map((i,s)=>e.jsx(g,{item:i},s))}),e.jsxs(r,{sx:{p:2,borderTop:1,borderColor:"divider",bgcolor:"background.paper"},children:[e.jsx(t,{variant:"caption",sx:{fontWeight:"bold",color:"text.secondary",textTransform:"uppercase",mb:1.5,display:"block",letterSpacing:1},children:"Pricing Details"}),e.jsxs(l,{spacing:1,children:[e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Subtotal"}),e.jsxs(t,{variant:"body2",sx:{fontWeight:500},children:["₹",o?.subtotal?.toFixed(2)]})]}),(o?.tax??0)>0&&e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Tax"}),e.jsxs(t,{variant:"body2",sx:{fontWeight:500},children:["₹",o?.tax?.toFixed(2)]})]}),(o?.itemAddons??0)>0&&e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Item Add-ons"}),e.jsxs(t,{variant:"body2",sx:{fontWeight:500},children:["₹",o?.itemAddons?.toFixed(2)]})]}),o?.manualAddons?.map((i,s)=>e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:i.label}),e.jsxs(t,{variant:"body2",sx:{fontWeight:600,color:i.amount<0?"error.main":"text.primary"},children:[i.amount<0?"-":"+","₹",Math.abs(i.amount).toFixed(2)]})]},s)),(o?.deliveryAmount??0)>0&&e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between"},children:[e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Delivery Charge"}),e.jsxs(t,{variant:"body2",sx:{fontWeight:500},children:["₹",o?.deliveryAmount?.toFixed(2)]})]}),e.jsxs(r,{sx:{display:"flex",justifyContent:"space-between",mt:.5,pt:1,borderTop:"1px dashed",borderColor:"divider"},children:[e.jsx(t,{variant:"body2",sx:{fontWeight:"bold"},children:"Grand Total"}),e.jsxs(t,{variant:"body2",sx:{fontWeight:"bold",color:"primary.main"},children:["₹",o?.total?.toFixed(2)]})]})]})]})]})]})]}),e.jsx(r,{sx:{position:"fixed",bottom:0,left:0,right:0,bgcolor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(20px)",borderTop:1,borderColor:"divider",p:2.5,zIndex:1e3},children:e.jsxs(l,{spacing:2,children:[e.jsx(n,{variant:"contained",color:"primary",fullWidth:!0,size:"large",onClick:()=>y(o),startIcon:e.jsx(d,{}),sx:{borderRadius:3,py:1.75,fontWeight:"bold",fontSize:"1rem",textTransform:"none",color:"black",boxShadow:"0 8px 16px rgba(10, 191, 16, 0.2)"},children:"Print Now"}),e.jsx(n,{variant:"outlined",color:"primary",fullWidth:!0,size:"large",onClick:()=>j(o),startIcon:e.jsx(d,{}),sx:{borderRadius:3,py:1.75,borderWidth:2,fontWeight:"bold",fontSize:"1rem",textTransform:"none","&:hover":{borderWidth:2,bgcolor:"primary.main",color:"black"}},children:"Delivery Challan"}),e.jsx(n,{variant:"outlined",color:"primary",fullWidth:!0,size:"large",onClick:c,startIcon:e.jsx(W,{}),sx:{borderRadius:3,py:1.75,borderWidth:2,fontWeight:"bold",fontSize:"1rem",textTransform:"none","&:hover":{borderWidth:2,bgcolor:"primary.main",color:"black"}},children:"Return to Home"})]})})]})}export{B as component};

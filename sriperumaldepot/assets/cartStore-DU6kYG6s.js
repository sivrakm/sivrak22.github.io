import{m as d,p as l}from"./index-hWqqEidX.js";const m=d()(l((a,u)=>({items:[],addToCart:e=>{a(t=>{const i=t.items.findIndex(r=>r.id===e.id&&r.selectedSize?.label===e.selectedSize?.label);if(i>-1){const r=[...t.items];return r[i].quantity+=e.quantity,{items:r}}else return{items:[...t.items,e]}})},removeFromCart:(e,t)=>{a(i=>({items:i.items.filter(r=>!(r.id===e&&r.selectedSize?.label===t))}))},updateQuantity:(e,t,i)=>{a(r=>({items:r.items.map(s=>s.id===e&&s.selectedSize?.label===i?{...s,quantity:Math.max(1,t)}:s)}))},clearCart:()=>a({items:[]}),getTotalItems:()=>u().items.reduce((e,t)=>e+t.quantity,0),getTotalPrice:()=>u().items.reduce((e,t)=>e+t.buyPrice*t.quantity,0)}),{name:"cart-storage"}));export{m as u};

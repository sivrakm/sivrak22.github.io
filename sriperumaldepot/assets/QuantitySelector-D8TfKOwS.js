import{j as o,r as x}from"./index-DtX5KMym.js";import{c as j,B as S,T as g,a as k}from"./Button-ZxXk5NXE.js";import{I as u}from"./IconButton-BtwwtOow.js";import{A as z}from"./Add-BdPpStYo.js";import{P as w,T as I}from"./TextField-eoPkSaiM.js";import{S as R}from"./Stack-DliPFEgh.js";const y=j(o.jsx("path",{d:"M19 13H5v-2h14z"})),P=({quantity:r,onQuantityChange:a,min:s=1,max:n=9999,compact:t=!1})=>{const[l,i]=x.useState(null),[d,c]=x.useState(r.toString()),m=e=>{i(e.currentTarget),c(r.toString())},h=()=>{i(null)},b=e=>{c(e.target.value)},p=()=>{let e=parseInt(d);isNaN(e)&&(e=r),e=Math.max(s,Math.min(n,e)),a(e),h()},f=e=>{e.key==="Enter"&&p()},v=!!l;return o.jsxs(S,{sx:{display:"flex",alignItems:"center",gap:.5,bgcolor:"action.hover",borderRadius:2,p:.5},children:[o.jsx(u,{size:"small",onClick:()=>a(Math.max(s,r-1)),disabled:r<=s,sx:{width:t?28:32,height:t?28:32,bgcolor:"background.paper",color:"text.secondary",borderRadius:1.5,boxShadow:1,"&:hover":{bgcolor:"background.paper"}},children:o.jsx(y,{fontSize:t?"small":"medium"})}),o.jsx(g,{variant:"body2",onClick:m,sx:{fontWeight:"bold",width:t?24:32,textAlign:"center",cursor:"pointer","&:hover":{color:"primary.main",bgcolor:"rgba(0,0,0,0.05)",borderRadius:1}},children:r}),o.jsx(u,{size:"small",onClick:()=>a(Math.min(n,r+1)),disabled:r>=n,sx:{width:t?28:32,height:t?28:32,bgcolor:"primary.main",color:"black",borderRadius:1.5,boxShadow:1,"&:hover":{bgcolor:"primary.main"}},children:o.jsx(z,{fontSize:t?"small":"medium"})}),o.jsx(w,{open:v,anchorEl:l,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{sx:{p:2,borderRadius:2,width:150,mt:1}},children:o.jsxs(R,{spacing:2,children:[o.jsx(g,{variant:"caption",sx:{fontWeight:"bold",color:"text.secondary"},children:"Enter Quantity"}),o.jsx(I,{size:"small",type:"number",value:d,onChange:b,onKeyDown:f,autoFocus:!0,fullWidth:!0,inputProps:{min:s,max:n,style:{textAlign:"center",fontWeight:"bold"}}}),o.jsx(k,{size:"small",variant:"contained",fullWidth:!0,onClick:p,sx:{fontWeight:"bold"},children:"OK"})]})})]})};export{P as Q,y as R};

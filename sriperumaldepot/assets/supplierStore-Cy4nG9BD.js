import{m as d,aa as c,t as p,o as s,w as n,q as u,n as t,F as g}from"./index-b1ip_EDv.js";const o=d(r=>({suppliers:[],isLoading:!1,error:null,fetchSuppliers:async()=>{r({isLoading:!0});try{const e=(await g(t(s,"suppliers"))).docs.map(i=>({id:i.id,...i.data()}));r({suppliers:e,isLoading:!1})}catch(a){console.error("Error fetching suppliers:",a),r({error:"Failed to fetch suppliers",isLoading:!1})}},addSupplier:async a=>{r({isLoading:!0});try{const{id:e,...i}=a;await u(t(s,"suppliers"),i),await o.getState().fetchSuppliers(),r({isLoading:!1})}catch(e){console.error("Error adding supplier:",e),r({error:"Failed to add supplier",isLoading:!1})}},updateSupplier:async a=>{r({isLoading:!0});try{const{id:e,...i}=a,l=p(s,"suppliers",e);await n(l,i),await o.getState().fetchSuppliers(),r({isLoading:!1})}catch(e){console.error("Error updating supplier:",e),r({error:"Failed to update supplier",isLoading:!1})}},deleteSupplier:async a=>{r({isLoading:!0});try{await c(p(s,"suppliers",a)),await o.getState().fetchSuppliers(),r({isLoading:!1})}catch(e){console.error("Error deleting supplier:",e),r({error:"Failed to delete supplier",isLoading:!1})}}}));export{o as u};

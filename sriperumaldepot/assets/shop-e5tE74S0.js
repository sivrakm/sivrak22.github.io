import{r as m,b as Ce,T as we,c as ke,g as Ie,j as e,d as oe,e as ze,f as L,a as ce,I as H,B as o,R as U,A as We,h as x,C as de,i as X,k as Re,l as xe}from"./index-CVOYqxVk.js";import{A as he,T as me,a as Te}from"./ArrowBackIosNew-BrM5wba8.js";import{C as Ee}from"./CheckCircle-r2g8WVTE.js";import{S as Pe}from"./Straighten-llNclUpD.js";import{L as Ae}from"./LocalShipping-BUtKjk-F.js";import{u as $}from"./productStore-CQW0xcLb.js";import{u as _}from"./cartStore-DsqtuGs-.js";import{u as pe}from"./pricingStore-OnzZ3p1t.js";import{u as fe}from"./supplierStore-B59sWNYl.js";import{Q as Fe,p as De}from"./profile-eXmFizi-.js";import{A as Le}from"./Add-H9H12F4t.js";import{S as Oe}from"./Search-CBW0eGzz.js";import{S as ge}from"./ShoppingCart-CE5V-_j7.js";import{F as Me}from"./FitnessCenter-DDcjq-_-.js";import{B as Ve,E as Be}from"./EnergySavingsLeaf-kjtV3jkF.js";import{C as ue}from"./Close-DmHldnLq.js";import{P as Ne}from"./Phone-DBXo63ke.js";import{F as $e}from"./FlashOn-DaAbYSru.js";import{D as te}from"./DialogTitle-oCC_8iLA.js";import{A as se}from"./Alert-DeAjlM-Y.js";import{B as Y}from"./Button-oePJF6-6.js";import{d as He,o as be,I as Z,F as Ue,S as Ye}from"./TextField-CK-tdFxC.js";import{Q as _e}from"./QuantitySelector-9IYaARYM.js";import{O as Qe}from"./OfflineDialog-BRoACwYq.js";import{Q as ne,Y as Ge}from"./index-DTSwwmmC.js";import{H as Xe}from"./Header-Dwzkj90S.js";import{P as Ze}from"./Page-CjhDCrwV.js";import{C as q}from"./Chip-GzsU5rYQ.js";import{D as K}from"./Divider-nragf7iB.js";import{G as re}from"./Grid-By9dYrMs.js";import{M as qe}from"./MenuItem-DHbHRWte.js";import"./isMuiElement-DXYZu6PE.js";import"./DialogContentText-DEu2WO4n.js";import"./dividerClasses-lkUjRS1Q.js";function Ke(s,d,t){const i=d.getBoundingClientRect(),l=t&&t.getBoundingClientRect(),C=be(d);let u;if(d.fakeTransform)u=d.fakeTransform;else{const p=C.getComputedStyle(d);u=p.getPropertyValue("-webkit-transform")||p.getPropertyValue("transform")}let W=0,I=0;if(u&&u!=="none"&&typeof u=="string"){const p=u.split("(")[1].split(")")[0].split(",");W=parseInt(p[4],10),I=parseInt(p[5],10)}return s==="left"?l?`translateX(${l.right+W-i.left}px)`:`translateX(${C.innerWidth+W-i.left}px)`:s==="right"?l?`translateX(-${i.right-l.left-W}px)`:`translateX(-${i.left+i.width-W}px)`:s==="up"?l?`translateY(${l.bottom+I-i.top}px)`:`translateY(${C.innerHeight+I-i.top}px)`:l?`translateY(-${i.top-l.top+i.height-I}px)`:`translateY(-${i.top+i.height-I}px)`}function Je(s){return typeof s=="function"?s():s}function G(s,d,t){const i=Je(t),l=Ke(s,d,i);l&&(d.style.webkitTransform=l,d.style.transform=l)}const ye=m.forwardRef(function(d,t){const i=Ce(),l={enter:i.transitions.easing.easeOut,exit:i.transitions.easing.sharp},C={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:u,appear:W=!0,children:I,container:p,direction:R="down",easing:A=l,in:T,onEnter:M,onEntered:w,onEntering:V,onExit:N,onExited:D,onExiting:F,style:P,timeout:k=C,TransitionComponent:O=we,...E}=d,v=m.useRef(null),S=ke(Ie(I),v,t),z=a=>j=>{a&&(j===void 0?a(v.current):a(v.current,j))},g=z((a,j)=>{G(R,a,p),ze(a),M&&M(a,j)}),n=z((a,j)=>{const B=oe({timeout:k,style:P,easing:A},{mode:"enter"});a.style.webkitTransition=i.transitions.create("-webkit-transform",{...B}),a.style.transition=i.transitions.create("transform",{...B}),a.style.webkitTransform="none",a.style.transform="none",V&&V(a,j)}),h=z(w),f=z(F),r=z(a=>{const j=oe({timeout:k,style:P,easing:A},{mode:"exit"});a.style.webkitTransition=i.transitions.create("-webkit-transform",j),a.style.transition=i.transitions.create("transform",j),G(R,a,p),N&&N(a)}),c=z(a=>{a.style.webkitTransition="",a.style.transition="",D&&D(a)}),b=a=>{u&&u(v.current,a)},y=m.useCallback(()=>{v.current&&G(R,v.current,p)},[R,p]);return m.useEffect(()=>{if(T||R==="down"||R==="right")return;const a=He(()=>{v.current&&G(R,v.current,p)}),j=be(v.current);return j.addEventListener("resize",a),()=>{a.clear(),j.removeEventListener("resize",a)}},[R,T,p]),m.useEffect(()=>{T||y()},[T,y]),e.jsx(O,{nodeRef:v,onEnter:g,onEntered:h,onEntering:n,onExit:r,onExited:c,onExiting:f,addEndListener:b,appear:W,in:T,timeout:k,...E,children:(a,{ownerState:j,...B})=>m.cloneElement(I,{ref:S,style:{visibility:a==="exited"&&!T?"hidden":void 0,...P,...I.props.style},...B})})}),et=L(e.jsx("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"})),tt=L(e.jsx("path",{d:"M21.6 18.2 13 11.75v-.91c1.65-.49 2.8-2.17 2.43-4.05-.26-1.31-1.3-2.4-2.61-2.7C10.54 3.57 8.5 5.3 8.5 7.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5c0 .84-.69 1.52-1.53 1.5-.54-.01-.97.45-.97.99v1.76L2.4 18.2c-.77.58-.36 1.8.6 1.8h18c.96 0 1.37-1.22.6-1.8M6 18l6-4.5 6 4.5z"})),rt=L(e.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"})),ot=L(e.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"})),st=L(e.jsx("path",{d:"M3.27 3 2 4.27l5 5V13h3v9l3.58-6.14L17.73 20 19 18.73zM17 10h-4l4-8H7v2.18l8.46 8.46z"})),ie=L(e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),nt=L(e.jsx("path",{d:"M3 6c-.55 0-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1m17-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 9h-8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1m-4 4h-4c-.55 0-1-.45-1-1s.45-1 1-1h4c.55 0 1 .45 1 1s-.45 1-1 1m4-8h-8c-.55 0-1-.45-1-1s.45-1 1-1h8c.55 0 1 .45 1 1s-.45 1-1 1"})),it=L(e.jsx("path",{d:"m3 2 2.01 18.23C5.13 21.23 5.97 22 7 22h10c1.03 0 1.87-.77 1.99-1.77L21 2zm9 17c-1.66 0-3-1.34-3-3 0-2 3-5.4 3-5.4s3 3.4 3 5.4c0 1.66-1.34 3-3 3m6.33-11H5.67l-.44-4h13.53z"})),at=L(e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"})),lt=L(e.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),ct=L(e.jsx("path",{d:"M3 17v2h6v-2zM3 5v2h10V5zm10 16v-2h8v-2h-8v-2h-2v6zM7 9v2H3v2h4v2h2V9zm14 4v-2H11v2zm-6-4h2V7h4V5h-4V3h-2z"})),dt=L(e.jsx("path",{d:"M12 2c-5.33 4.55-8 8.48-8 11.8 0 4.98 3.8 8.2 8 8.2s8-3.22 8-8.2c0-3.32-2.67-7.25-8-11.8M7.83 14c.37 0 .67.26.74.62.41 2.22 2.28 2.98 3.64 2.87.43-.02.79.32.79.75 0 .4-.32.73-.72.75-2.13.13-4.62-1.09-5.19-4.12-.08-.45.28-.87.74-.87"})),je=()=>{const d=_(i=>i.items).length,t=ce();return e.jsxs(H,{sx:{bgcolor:"action.hover"},onClick:()=>t({to:"/checkout"}),children:[e.jsx(ge,{}),d>0&&e.jsx(o,{sx:{position:"absolute",top:0,right:0,width:16,height:16,bgcolor:"red",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"0.65rem",color:"white",fontWeight:"bold",border:"2px solid",borderColor:"background.paper"},children:d})]})},xt=U.forwardRef(function(d,t){return e.jsx(ye,{direction:"up",ref:t,...d})}),ht=({open:s,onClose:d,onScanSuccess:t})=>{const i=m.useRef(null),[l,C]=m.useState(null),[u,W]=m.useState(!0),[I,p]=m.useState(!1),[R,A]=m.useState(!0),[T,M]=m.useState(!1),[w,V]=m.useState(null),[N,D]=m.useState(1),[F,P]=m.useState(1),[k,O]=m.useState(!1),E=m.useCallback(()=>{M(!1),w&&w.stop(),i.current&&i.current.srcObject&&(i.current.srcObject.getTracks().forEach(n=>n.stop()),i.current.srcObject=null)},[w]),v=m.useCallback(async()=>{if(A(!0),C(null),!("BarcodeDetector"in window)){W(!1),A(!1);return}try{const g=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{min:1280,ideal:3840,max:4096},height:{min:720,ideal:2160,max:2160},frameRate:{ideal:30,max:60}}});if(i.current){i.current.srcObject=g;const n=g.getVideoTracks()[0];V(n),await i.current.play();try{const h=n.getCapabilities(),f={advanced:[]};h.zoom&&(O(!0),P(h.zoom.max),D(h.zoom.min||1)),h.focusMode?.includes("continuous")&&f.advanced.push({focusMode:"continuous"}),h.whiteBalanceMode?.includes("continuous")&&f.advanced.push({whiteBalanceMode:"continuous"}),h.exposureMode?.includes("continuous")&&f.advanced.push({exposureMode:"continuous"}),f.advanced.length>0&&await n.applyConstraints(f)}catch(h){console.warn("Advanced constraints not supported:",h)}A(!1),M(!0)}}catch(g){console.error("Error accessing camera:",g),C(g.name==="NotAllowedError"?"Camera permission denied":"Could not access camera"),A(!1)}},[]);m.useEffect(()=>{s?v():E()},[s,v,E]),m.useEffect(()=>{let g,n=0;const h=300,f="BarcodeDetector"in window?new window.BarcodeDetector({formats:["qr_code","ean_13","ean_8","code_128","code_39","upc_a","upc_e"]}):null,r=async c=>{if(!(!T||!i.current||!f)){if(c-n>h){n=c;try{if(i.current.readyState===i.current.HAVE_ENOUGH_DATA){const b=await f.detect(i.current);if(b.length>0){const y=b[0].rawValue;t(y),E();return}}}catch(b){console.error("Detection error:",b)}}g=requestAnimationFrame(r)}};return T&&(g=requestAnimationFrame(r)),()=>{g&&cancelAnimationFrame(g)}},[T,t,E]);const S=async()=>{if(w&&"applyConstraints"in w)try{await w.applyConstraints({advanced:[{torch:!I}]}),p(!I)}catch(g){console.error("Error toggling torch:",g)}},z=async g=>{if(w&&"applyConstraints"in w)try{await w.applyConstraints({advanced:[{zoom:g}]}),D(g)}catch(n){console.error("Error adjusting zoom:",n)}};return e.jsxs(te,{fullScreen:!0,open:s,onClose:d,TransitionComponent:xt,PaperProps:{sx:{bgcolor:"#000",color:"white",overflow:"hidden"}},children:[e.jsx(he,{sx:{position:"relative",bgcolor:"transparent",boxShadow:"none"},children:e.jsxs(me,{children:[e.jsx(H,{edge:"start",color:"inherit",onClick:d,"aria-label":"close",children:e.jsx(We,{})}),e.jsx(x,{sx:{ml:2,flex:1,fontWeight:700},variant:"h6",children:"Scan Barcode"}),w&&e.jsx(H,{color:"inherit",onClick:S,children:I?e.jsx($e,{sx:{color:"primary.main"}}):e.jsx(st,{})})]})}),e.jsxs(o,{sx:{flex:1,position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:"#000"},children:[R&&e.jsx(o,{sx:{position:"absolute",zIndex:2,display:"flex",flexDirection:"column",alignItems:"center"},children:e.jsx(de,{color:"primary"})}),l&&e.jsxs(o,{sx:{p:4,textAlign:"center",zIndex:2},children:[e.jsx(se,{severity:"error",sx:{mb:2},children:l}),e.jsx(Y,{variant:"contained",onClick:v,children:"Retry"})]}),!u&&e.jsxs(o,{sx:{p:4,textAlign:"center",zIndex:2},children:[e.jsx(se,{severity:"warning",sx:{mb:2},children:"Native barcode scanning is not supported in this browser. Please use Chrome or Edge."}),e.jsx(Y,{variant:"outlined",color:"inherit",onClick:d,children:"Close"})]}),e.jsxs(o,{sx:{position:"relative",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx("video",{ref:i,style:{width:"100%",height:"100%",objectFit:"cover"},playsInline:!0,muted:!0}),e.jsx(o,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none"},children:e.jsx(o,{sx:{width:"280px",height:"280px",border:"2px solid rgba(255, 255, 255, 0.5)",borderRadius:"24px",position:"relative","&::before, &::after":{content:'""',position:"absolute",width:"40px",height:"40px",borderColor:"primary.main",borderStyle:"solid"},"&::before":{top:-2,left:-2,borderTopWidth:4,borderLeftWidth:4,borderBottomWidth:0,borderRightWidth:0,borderTopLeftRadius:"24px"},"&::after":{bottom:-2,right:-2,borderBottomWidth:4,borderRightWidth:4,borderTopWidth:0,borderLeftWidth:0,borderBottomRightRadius:"24px"}},children:e.jsx(o,{sx:{position:"absolute",top:0,left:"10%",width:"80%",height:"2px",bgcolor:"primary.main",boxShadow:"0 0 15px #2196f3",willChange:"transform",animation:"scan 2.5s ease-in-out infinite","@keyframes scan":{"0%":{transform:"translateY(28px)",opacity:0},"50%":{transform:"translateY(140px)",opacity:1},"100%":{transform:"translateY(252px)",opacity:0}}}})})}),e.jsxs(o,{sx:{position:"absolute",bottom:40,display:"flex",gap:2,zIndex:3},children:[k&&e.jsx(Y,{variant:"contained",sx:{borderRadius:"20px",bgcolor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},onClick:()=>z(N===1?Math.min(2,F):1),children:N===1?"2x Zoom":"1x Zoom"}),e.jsx(Y,{variant:"contained",sx:{borderRadius:"20px",bgcolor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},onClick:S,children:I?"Flash Off":"Flash On"})]})]})]})]})},mt=(s,d)=>{if(s===void 0||d===void 0)return"";const t=Math.floor(s-d),i=Math.floor(Math.random()*9+1),l=`${i}${i}1`,C=Math.floor(Math.random()*90+10);return`${l}${t}${C}`},pt={shopping_cart:e.jsx(ge,{}),search:e.jsx(Oe,{}),tune:e.jsx(ct,{}),favorite:e.jsx(ot,{}),nutrition:e.jsx(Be,{}),bolt:e.jsx(Ve,{}),checkroom:e.jsx(tt,{}),water_drop:e.jsx(dt,{}),local_drink:e.jsx(it,{}),fitness_center:e.jsx(Me,{})},ve=U.forwardRef(function(d,t){return e.jsx(ye,{direction:"up",ref:t,...d})}),J=({name:s,filled:d=!1,className:t=""})=>e.jsx(e.Fragment,{children:pt[s]}),ae=U.forwardRef(({style:s,children:d,...t},i)=>e.jsx(re,{container:!0,spacing:2,...t,ref:i,style:{...s,display:"flex",flexWrap:"wrap",width:"100%",margin:0},children:d})),ft=({children:s,...d})=>e.jsx(re,{item:!0,size:{xs:6,sm:6,md:3,lg:2,xl:2},...d,sx:{display:"flex",flexDirection:"column",p:1},children:s}),gt=({children:s,...d})=>e.jsx(re,{item:!0,size:{xs:6,sm:6,md:6,lg:4,xl:4},...d,sx:{display:"flex",flexDirection:"column",p:1},children:s});function er(){const s=$(n=>n.activeCategory),d=$(n=>n.setActiveCategory),t=$(n=>n.categories),i=$(n=>n.categoryItems),l=$(n=>n.products),C=$(n=>n.fetchProducts),u=pe(n=>n.fetchRules),W=fe(n=>n.fetchSuppliers),I=$(n=>n.isLoading),p=ce(),[R,A]=m.useState(!1);m.useEffect(()=>{navigator.onLine||A(!0)},[]),m.useEffect(()=>{C(),u(),W()},[C]);const[T,M]=m.useState(null),[w,V]=m.useState(""),[N,D]=m.useState(!1),[F,P]=m.useState(!1),[k,O]=m.useState(""),E=(n,h,f=!0)=>{if(!h)return 0;const r=n.toLowerCase(),c=h.toLowerCase();if(r===c)return 100;if(r.startsWith(c))return 80;if(r.includes(c))return 60;if(!f)return 0;let b=0;const y=c.split("");let a=-1;for(const B of y){const Q=r.indexOf(B,a+1);Q>-1&&(b++,a=Q)}const j=b/c.length*40;return j>20?j:0},v=w?l.filter(n=>{if(s!=="All Items")if(s==="Un-grouped"){const h=t.filter(r=>r!=="All Items");if(!(!n.categoryOnly&&!n.categoryId&&(!n.category||!h.includes(n.category))))return!1}else{const h=i.find(f=>f.name===s);if(h){if(n.categoryId!==h.id)return!1}else return!1}return k?n.category.toLowerCase().includes(k.toLowerCase()):!0}).map(n=>{const h=w.trim().toLowerCase().split(/\s+/),f=n.categoryId?i.find(c=>c.id===n.categoryId):void 0;let r=0;for(const c of h){const b=E(n.name,c,!1)*10,y=n.sku?E(n.sku,c,!0)*8:0,a=f?.sku?E(f.sku,c,!0)*5:0,j=E(n.detail,c,!0),B=E(n.category,c,!1),Q=n.id?E(String(n.id),c,!0):0,Se=Math.max(b,y,a,j,B,Q);r+=Se}return{...n,searchScore:r}}).filter(n=>n.searchScore>0).sort((n,h)=>(h.searchScore||0)-(n.searchScore||0)):l,S=n=>{d(n),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},400)},z=n=>{M(n),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},400)},g=()=>{M(null),setTimeout(()=>{window.scrollTo({top:0,behavior:"smooth"})},400)};return e.jsxs(o,{sx:{pb:10,bgcolor:"background.default",minHeight:"100vh",color:"text.primary"},children:[e.jsxs(o,{sx:{position:"sticky",top:0,zIndex:1100,bgcolor:"background.default",borderBottom:1,borderColor:"divider"},children:[e.jsx(Xe,{title:"Shop Online",icon:e.jsxs(o,{sx:{position:"relative"},children:[e.jsx(X,{src:De,sx:{width:40,height:40,border:"2px solid",borderColor:"primary.main"},onClick:()=>p({to:"/admin"})}),e.jsx(o,{sx:{position:"absolute",bottom:0,right:0,width:12,height:12,bgcolor:"primary.main",borderRadius:"50%",border:"2px solid",borderColor:"background.paper"}})]}),rightContent:e.jsxs(e.Fragment,{children:[e.jsx(Fe,{sx:{cursor:"pointer",pr:2,color:"text.secondary"},onClick:()=>D(!0)}),e.jsx(nt,{sx:{cursor:"pointer",pr:2,color:"text.secondary"},onClick:()=>p({to:"/history"})}),e.jsx(je,{})]})}),e.jsxs(o,{sx:{px:2,pt:0,pb:1.5},children:[e.jsxs(o,{sx:{position:"relative"},children:[e.jsx(o,{sx:{position:"absolute",left:16,top:"50%",transform:"translateY(-50%)",display:"flex",zIndex:100},children:e.jsx(J,{name:"search"})}),e.jsx(Z,{placeholder:"Search supplements, gear...",value:w,onChange:n=>V(n.target.value),onKeyDown:n=>{n.key==="Escape"&&(V(""),n.target.blur())},sx:{width:"100%",bgcolor:"background.paper",borderRadius:4,py:1.5,pl:6,pr:6,border:1,borderColor:"divider","&.Mui-focused":{borderColor:"primary.main",boxShadow:"0 0 0 2px rgba(242, 215, 13, 0.2)"}}}),e.jsx(H,{onClick:()=>{F&&(O(""),S("All Items")),P(!F)},sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-50%)",bgcolor:F||k?"primary.main":"action.hover",color:F||k?"common.black":"inherit",p:.5,borderRadius:2,"&:hover":{bgcolor:F||k?"primary.dark":"action.selected"}},children:e.jsx(J,{name:"tune"})})]}),e.jsx(Re,{in:F,children:e.jsxs(o,{sx:{pt:1,position:"relative"},children:[e.jsx(Z,{placeholder:"Filter categories...",value:k,onChange:n=>{O(n.target.value),n.target.value&&S("All Items")},sx:{width:"100%",bgcolor:"background.paper",borderRadius:3,py:1,pl:2,pr:5,border:1,borderColor:"divider",fontSize:"0.9rem"}}),k&&e.jsx(H,{size:"small",onClick:()=>{O(""),S("All Items")},sx:{position:"absolute",right:8,top:"50%",transform:"translateY(-30%)",color:"text.secondary"},children:e.jsx(ue,{fontSize:"small"})})]})})]})]}),e.jsx(Ze,{children:I?e.jsx(o,{sx:{display:"flex",justifyContent:"center",alignItems:"center",py:8},children:e.jsx(de,{})}):e.jsxs(e.Fragment,{children:[!w&&e.jsx(o,{sx:{display:"flex",gap:1.5,overflowX:"auto",pb:2,"&::-webkit-scrollbar":{display:"none"}},children:(()=>{const n=t.filter(r=>r!=="All Items");return(l.some(r=>!r.categoryOnly&&(!r.category||!n.includes(r.category)))?[...t,"Un-grouped"]:t).map(r=>e.jsx(q,{label:r,onClick:()=>S(r),sx:{fontWeight:"bold",borderRadius:50,height:40,px:1,bgcolor:"background.paper",color:s===r?"primary.main":"text.secondary",border:1,borderColor:s===r?"primary.main":"divider","&:hover":{bgcolor:s===r?"primary.dark":"action.hover"}}},r))})()}),e.jsx(o,{sx:{px:0,pb:10},children:w?e.jsxs(o,{children:[e.jsxs(x,{variant:"h6",sx:{mb:2,fontWeight:"bold"},children:["Search Results (",v.length,")"]}),v.length>0?e.jsx(o,{sx:{width:"100%"},children:e.jsx(ne,{useWindowScroll:!0,increaseViewportBy:300,data:v,totalCount:v.length,components:{List:ae,Item:ft},itemContent:(n,h)=>e.jsx(ee,{product:h,onClick:()=>z(h),setActiveCategory:S})})}):e.jsx(o,{sx:{textAlign:"center",py:8,opacity:.6},children:e.jsxs(x,{variant:"body1",children:['No products found matching "',w,'"']})})]}):e.jsx(e.Fragment,{children:s==="All Items"?e.jsx(o,{sx:{width:"100%"},children:(()=>{const n=y=>y.categoryId&&i.some(a=>a.id===y.categoryId),h=l.filter(y=>!y.categoryOnly&&!n(y)),f=i.filter(y=>!k||y.name.toLowerCase().includes(k.toLowerCase())),r=[],c=[];f.forEach(y=>{const a=l.filter(j=>j.categoryId===y.id).length;a>0?r.push({type:"category",category:y,count:a}):c.push({type:"category-empty",category:y})}),r.sort((y,a)=>y.category.name.localeCompare(a.category.name)),c.sort((y,a)=>y.category.name.localeCompare(a.category.name));const b=[...r];return h.length>0&&(!k||"un-grouped".includes(k.toLowerCase()))&&b.push({type:"un-grouped",count:h.length}),c.length>0&&(b.push({type:"header",label:"Empty Categories"}),b.push(...c)),e.jsx(Ge,{useWindowScroll:!0,increaseViewportBy:300,data:b,itemContent:(y,a)=>{if(a.type==="category"||a.type==="category-empty"){const j=a.category,B=a.count!==void 0?a.count:0;return e.jsx(o,{sx:{mb:4},children:e.jsx(le,{title:j.name,count:B,products:[j],onProductClick:()=>S(j.name),onViewAll:()=>S(j.name),setActiveCategory:S})})}else{if(a.type==="un-grouped")return e.jsx(o,{sx:{mb:4},children:e.jsx(le,{title:"Un-grouped",count:a.count,products:[{id:"ungrouped-dummy",name:"Un-grouped Items",detail:"Items not yet categorized",icon:"shopping_cart",sale:!1,isNew:!1,category:"Un-grouped",imageColor:"#f5f5f5",categoryOnly:!0}],onProductClick:()=>S("Un-grouped"),onViewAll:()=>S("Un-grouped"),setActiveCategory:S})});if(a.type==="header")return e.jsxs(o,{sx:{display:"flex",alignItems:"center",my:3},children:[e.jsx(K,{sx:{flex:1}}),e.jsx(x,{variant:"caption",sx:{px:2,fontWeight:"bold",color:"text.secondary",textTransform:"uppercase"},children:a.label}),e.jsx(K,{sx:{flex:1}})]})}return null}})})()}):e.jsx(o,{sx:{width:"100%",px:0},children:(()=>{const n=t.filter(f=>f!=="All Items");let h=l;if(s==="Un-grouped")h=l.filter(f=>!f.categoryOnly&&!f.categoryId&&(!f.category||!n.includes(f.category)));else{const r=i.find(c=>c.name===s)?.id;r&&(h=l.filter(c=>c.categoryId===r&&!c.categoryOnly))}return e.jsx(ne,{useWindowScroll:!0,increaseViewportBy:300,data:h,totalCount:h.length,components:{List:ae,Item:gt},itemContent:(f,r)=>e.jsx(ee,{product:r,onClick:()=>z(r),setActiveCategory:S})})})()})})})]})}),e.jsx(yt,{open:T!==null,handleClose:g,product:T}),e.jsx(ht,{open:N,onClose:()=>D(!1),onScanSuccess:n=>{D(!1),V(n),window.scrollTo({top:0,behavior:"smooth"})}}),e.jsx(Qe,{open:R,onContinue:()=>A(!1),onNavigateAway:()=>p({to:"/shop"})})]})}const ut=({onClick:s})=>e.jsxs(xe,{onClick:s,sx:{minWidth:120,height:"100%",borderRadius:4,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",bgcolor:"action.hover",border:1,borderColor:"divider",cursor:"pointer","&:hover":{borderColor:"primary.main",bgcolor:"action.selected",transform:"scale(1.02)",transition:"all 0.2s"}},children:[e.jsx(X,{sx:{bgcolor:"primary.main",mb:1.5,width:48,height:48},children:e.jsx(et,{sx:{color:"black",fontSize:20,ml:.5}})}),e.jsx(x,{variant:"subtitle2",sx:{fontWeight:800,color:"text.primary"},children:"View All"})]}),le=({title:s,count:d,products:t,onProductClick:i,onViewAll:l,setActiveCategory:C})=>e.jsxs(o,{children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",px:0,mb:1.5},children:[e.jsxs(x,{variant:"h6",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5,fontSize:"0.9rem"},children:[s," ",e.jsxs(x,{component:"span",sx:{color:"text.secondary",fontWeight:600},children:["(",d,")"]})]}),e.jsx(Y,{size:"small",onClick:l,sx:{fontWeight:700,textTransform:"none",color:"primary.main",minWidth:0,p:0,"&:hover":{bgcolor:"transparent",textDecoration:"underline"}},children:"View all"})]}),e.jsxs(o,{sx:{display:"flex",gap:2,overflowX:"auto",px:2,pb:1,"&::-webkit-scrollbar":{display:"none"},scrollSnapType:"x mandatory","& > *":{scrollSnapAlign:"start"}},children:[t.filter(u=>u.categoryOnly).slice(0,1).map(u=>e.jsx(o,{sx:{minWidth:200,maxWidth:200},children:e.jsx(ee,{product:u,onClick:i,setActiveCategory:C})},u.id)),e.jsx(o,{sx:{minWidth:120,py:.5},children:e.jsx(ut,{onClick:l})})]})]}),bt=({open:s,handleClose:d,supplier:t})=>t?e.jsx(te,{fullWidth:!0,maxWidth:"xs",open:s,onClose:d,TransitionComponent:ve,PaperProps:{sx:{borderRadius:4,bgcolor:"background.paper",backgroundImage:"none"}},children:e.jsxs(o,{sx:{p:3},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[e.jsx(x,{variant:"h6",sx:{fontWeight:800},children:"Supplier Details"}),e.jsx(H,{onClick:d,size:"small",children:e.jsx(ue,{})})]}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:2.5},children:[e.jsxs(o,{children:[e.jsx(x,{variant:"subtitle1",sx:{fontWeight:800},children:t.name}),t.contactPerson&&e.jsxs(x,{variant:"body2",color:"text.secondary",children:["Contact: ",t.contactPerson]})]}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:1.5},children:[t.phoneNumbers?.map((i,l)=>e.jsxs(o,{sx:{display:"flex",gap:1.5,alignItems:"center"},children:[e.jsx(X,{sx:{width:32,height:32,bgcolor:"primary.light",color:"primary.main"},children:e.jsx(Ne,{sx:{fontSize:16}})}),e.jsx(x,{variant:"body2",fontWeight:600,children:i})]},l)),t.emails?.map((i,l)=>e.jsxs(o,{sx:{display:"flex",gap:1.5,alignItems:"center"},children:[e.jsx(X,{sx:{width:32,height:32,bgcolor:"info.light",color:"info.main"},children:e.jsx(rt,{sx:{fontSize:16}})}),e.jsx(x,{variant:"body2",fontWeight:600,children:i})]},l))]}),t.addresses?.length>0&&e.jsxs(o,{sx:{bgcolor:"action.hover",p:1.5,borderRadius:2},children:[e.jsxs(o,{sx:{display:"flex",gap:1,mb:.5},children:[e.jsx(at,{sx:{fontSize:18,color:"text.secondary"}}),e.jsx(x,{variant:"caption",fontWeight:800,color:"text.secondary",children:"ADDRESSES"})]}),t.addresses.map((i,l)=>e.jsx(x,{variant:"body2",sx:{mb:.5,"&:last-child":{mb:0}},children:i},l))]}),t.gstins?.length>0&&e.jsxs(o,{sx:{bgcolor:"action.hover",p:1.5,borderRadius:2},children:[e.jsx(x,{variant:"caption",fontWeight:800,color:"text.secondary",display:"block",mb:.5,children:"GSTIN"}),t.gstins.map((i,l)=>e.jsx(x,{variant:"body2",sx:{fontFamily:"monospace"},children:i},l))]}),t.rating>0&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5},children:[e.jsx(lt,{sx:{color:"warning.main",fontSize:20}}),e.jsxs(x,{variant:"body2",fontWeight:700,children:[t.rating,"/5 Rating"]})]})]})]})}):null,yt=({open:s,handleClose:d,product:t})=>{const[i,l]=m.useState(1),[C,u]=m.useState(""),[W,I]=m.useState(""),[p,R]=m.useState(null),A=_(r=>r.addToCart),T=_(r=>r.items),M=_(r=>r.updateQuantity),{rules:w}=pe(),V=$(r=>r.categoryItems),N=fe(r=>r.suppliers),[D,F]=m.useState(null),P=T.find(r=>r.id===t?.id&&r.selectedSize?.label===p?.label);U.useEffect(()=>{s&&t&&(P?l(P.quantity):(l(1),u(""),I("")))},[s,t?.id,p?.label]),U.useEffect(()=>{if(t?.isComplexVariant&&C&&W){const r=Number(C)*Number(W);l(Math.round(r*100)/100)}},[C,W,t?.isComplexVariant]),U.useEffect(()=>{s&&t?t.sizes&&t.sizes.length>0?R(t.sizes[0]):R(null):s||R(null)},[s,t?.id]);const k=p?p.price:t?.price,O=p?p.purchasePrice:t?.purchasePrice,E=U.useMemo(()=>!s||k===void 0||O===void 0?"":mt(k,O),[s,k,O]);if(!t)return null;const v=p?p.price:t.price??0,S=p&&p.price!==void 0||t.price!==void 0;let z=0;if(t.taxRuleId){const r=w.find(c=>c.id===t.taxRuleId);r&&(r.valueType==="percentage"?z=v*(r.value/100):z=r.value)}let g=0;t.addonRuleIds&&t.addonRuleIds.length>0&&t.addonRuleIds.forEach(r=>{const c=w.find(b=>b.id===r);c&&(c.valueType==="percentage"?g+=v*(c.value/100):g+=c.value)});const n=v,h=n+z+g,f=()=>{let r=p;t.isComplexVariant&&(r={label:`${C} x ${W} ${t.unitName||"units"}`,price:v}),P?(t.isComplexVariant?T.find(b=>b.id===t.id&&b.selectedSize?.label===r.label):P)?M(t.id,i,r?.label):A({id:t.id,sku:t.sku,name:t.name,buyPrice:n,taxAmount:z,addonAmount:g,totalPrice:h,src:t.src,quantity:i,selectedSize:r,category:t.category,isComplexVariant:t.isComplexVariant,unitName:t.unitName}):A({id:t.id,sku:t.sku,name:t.name,buyPrice:n,taxAmount:z,addonAmount:g,totalPrice:h,src:t.src,quantity:i,selectedSize:r,category:t.category,isComplexVariant:t.isComplexVariant,unitName:t.unitName}),d()};return e.jsxs(te,{fullScreen:!0,open:s,onClose:d,TransitionComponent:ve,PaperProps:{sx:{bgcolor:"background.default",color:"text.primary"}},children:[e.jsxs(o,{sx:{position:"relative",display:"flex",flexDirection:"column",height:"100%",maxWidth:"sm",mx:"auto",width:"100%",bgcolor:"background.paper",boxShadow:r=>r.shadows[10]},children:[e.jsx(he,{sx:{position:"sticky",bgcolor:"background.paper",color:"text.primary",boxShadow:"none",borderBottom:1,borderColor:"divider"},children:e.jsxs(me,{sx:{justifyContent:"space-between",minHeight:56},children:[e.jsx(H,{edge:"start",onClick:d,"aria-label":"close",size:"small",children:e.jsx(Te,{fontSize:"small"})}),e.jsx(x,{sx:{fontWeight:800,fontSize:"1.1rem",letterSpacing:-.5},variant:"h6",children:"Product Details"}),e.jsx(o,{sx:{position:"relative",display:"flex"},children:e.jsx(je,{})})]})}),e.jsxs(o,{sx:{flex:1,overflowY:"auto",pb:13},children:[e.jsxs(o,{sx:{width:"100%",aspectRatio:"16/9",bgcolor:"#121212",borderRadius:"0 0 20px 20px",position:"relative",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"inset 0 -10px 20px rgba(0,0,0,0.2)"},children:[t.src&&e.jsx(o,{component:"img",src:t.src,alt:t.name,sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}}),e.jsx(o,{sx:{position:"absolute",bottom:12,right:12,bgcolor:"rgba(0,0,0,0.6)",color:"white",px:1.2,py:.4,borderRadius:10,fontSize:11,fontWeight:"bold",backdropFilter:"blur(8px)",zIndex:1},children:"1 / 3"})]}),e.jsxs(o,{sx:{px:2.5,pt:2.5},children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:.5},children:[e.jsxs(o,{sx:{flex:1,pr:2},children:[e.jsx(x,{variant:"h6",sx:{fontWeight:800,lineHeight:1.2,mb:.5},children:t.name}),e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5,color:"success.main"},children:[e.jsx(Ee,{sx:{fontSize:14}}),e.jsx(x,{variant:"caption",sx:{fontWeight:600},children:"In Stock • Ready to sell"})]}),E&&e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:.5,color:"grey.600",mt:.5},children:[e.jsx(ie,{sx:{fontSize:14}}),e.jsxs(x,{variant:"caption",sx:{fontWeight:600},children:["PID: ",E]})]}),t.sku&&e.jsxs(x,{variant:"caption",sx:{fontWeight:800,color:"text.disabled",letterSpacing:1,mt:.5,display:"block"},children:["SKU: ",t.sku]})]}),e.jsxs(o,{sx:{textAlign:"right"},children:[e.jsx(x,{variant:"h6",color:"primary.main",sx:{fontWeight:800,lineHeight:1},children:S?`₹${h?.toFixed(2)}`:"Price on Request"}),(z>0||g>0)&&e.jsxs(e.Fragment,{children:[e.jsxs(x,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.5,fontSize:"0.7rem"},children:["(Base: ₹",n.toFixed(2),")"]}),e.jsxs(x,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.2,fontSize:"0.7rem"},children:["(Tax: ₹",z.toFixed(2),")"]}),e.jsxs(x,{variant:"caption",color:"text.secondary",sx:{display:"block",mt:.2,fontSize:"0.7rem"},children:["(Addon: ₹",g.toFixed(2),")"]})]})]})]}),e.jsx(K,{sx:{my:2,opacity:.6}}),e.jsxs(o,{sx:{display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(o,{children:[e.jsxs(o,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1.5},children:[e.jsx(x,{variant:"caption",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:1,color:"text.secondary"},children:"Size Selection"}),e.jsx(Y,{variant:"text",size:"small",startIcon:e.jsx(Pe,{sx:{fontSize:"14px !important"}}),sx:{textTransform:"none",color:"text.secondary",fontSize:"0.75rem",fontWeight:600,minWidth:0,p:0},children:"Size Guide"})]}),t.sizes&&t.sizes.length>0?e.jsx(Ue,{fullWidth:!0,size:"small",children:e.jsx(Ye,{value:p?p.label:"",onChange:r=>{const c=t.sizes.find(b=>b.label===r.target.value);R(c)},sx:{borderRadius:2,fontWeight:700,fontSize:"0.85rem",bgcolor:"background.paper","& .MuiSelect-select":{py:1}},children:t.sizes.map(r=>e.jsxs(qe,{value:r.label,children:[r.label," - ₹",r.price.toFixed(2)]},r.label))})}):e.jsx(x,{variant:"body2",sx:{fontWeight:600,color:"text.secondary",bgcolor:"action.hover",p:1,borderRadius:2,textAlign:"center"},children:"SIngle Variant"})]}),e.jsxs(o,{sx:{bgcolor:"action.hover",borderRadius:3,p:2,display:"flex",alignItems:"flex-start",justifyContent:"space-between"},children:[e.jsx(o,{sx:{flex:1,mr:2},children:t.isComplexVariant?e.jsxs(o,{sx:{width:"100%"},children:[e.jsxs(x,{variant:"caption",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5,color:"text.secondary",display:"block",mb:1},children:["Measurements (",t.unitName,")"]}),e.jsxs(o,{sx:{display:"flex",gap:2,alignItems:"center"},children:[e.jsx(Z,{type:"number",placeholder:"X",value:C,onChange:r=>u(Number(r.target.value)),sx:{bgcolor:"background.paper",border:1,borderColor:"divider",borderRadius:2,px:2,py:1,width:"100%",fontWeight:"bold"}}),e.jsx(x,{sx:{color:"text.secondary",fontWeight:"bold"},children:"x"}),e.jsx(Z,{type:"number",placeholder:"Y",value:W,onChange:r=>I(Number(r.target.value)),sx:{bgcolor:"background.paper",border:1,borderColor:"divider",borderRadius:2,px:2,py:1,width:"100%",fontWeight:"bold"}})]}),e.jsxs(x,{variant:"body2",sx:{mt:1,fontWeight:"bold",color:"primary.main",textAlign:"right"},children:["Total: ",i," ",t.unitName,"²"]})]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{variant:"caption",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5,color:"text.secondary",display:"block",mb:.5},children:"Quantity"}),e.jsx(_e,{quantity:i,onQuantityChange:l})]})}),e.jsxs(o,{sx:{textAlign:"right",marginTop:"auto",marginBottom:"auto"},children:[e.jsx(x,{variant:"caption",sx:{fontWeight:800,textTransform:"uppercase",letterSpacing:.5,color:"text.secondary",display:"block",mb:.5},children:"Total Value"}),e.jsxs(x,{sx:{fontWeight:900,color:"text.primary",fontSize:"1.1rem"},children:["₹",(h*i).toFixed(2)]})]})]}),e.jsxs(o,{children:[e.jsxs(o,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[e.jsx(x,{variant:"subtitle1",sx:{fontWeight:800},children:"Description"}),e.jsx(ie,{sx:{fontSize:16,color:"text.disabled"}})]}),e.jsx(x,{variant:"body2",color:"text.secondary",sx:{lineHeight:1.6,fontSize:"0.875rem"},children:t.detail}),(t.secondaryCategoryIds?.length>0||t.supplierIds?.length>0)&&e.jsxs(o,{sx:{mt:2,display:"flex",flexDirection:"column",gap:1.5},children:[t.secondaryCategoryIds?.length>0&&e.jsxs(o,{children:[e.jsx(x,{variant:"caption",sx:{fontWeight:800,color:"text.secondary",display:"block",mb:.5},children:"ALSO IN"}),e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.secondaryCategoryIds.map(r=>{const c=V.find(b=>b.id===r);return c?e.jsx(q,{label:c.name,size:"small",sx:{height:24,fontSize:"0.7rem"}},r):null})})]}),t.supplierIds?.length>0&&e.jsxs(o,{children:[e.jsx(x,{variant:"caption",sx:{fontWeight:800,color:"text.secondary",display:"block",mb:.5},children:"SUPPLIERS"}),e.jsx(o,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:t.supplierIds.map(r=>{const c=N.find(b=>b.id===r);return c?e.jsx(q,{label:c.name,onClick:()=>F(c),size:"small",variant:"outlined",sx:{height:24,fontSize:"0.7rem",cursor:"pointer","&:hover":{bgcolor:"action.hover"}}},r):null})})]})]}),e.jsxs(o,{sx:{mt:2.5,p:1.5,borderRadius:3,display:"flex",gap:1.5,bgcolor:"primary.light",background:"linear-gradient(135deg, rgba(242, 215, 13, 0.1) 0%, rgba(242, 215, 13, 0.05) 100%)",border:"1px solid rgba(242, 215, 13, 0.2)",alignItems:"center"},children:[e.jsx(o,{sx:{width:36,height:36,borderRadius:"10px",bgcolor:"primary.main",display:"flex",alignItems:"center",justifyContent:"center",color:"common.black",flexShrink:0},children:e.jsx(Ae,{sx:{fontSize:18}})}),e.jsxs(o,{children:[e.jsx(x,{sx:{fontWeight:800,fontSize:"0.8rem",color:"text.primary"},children:"Free Desk Delivery"}),e.jsx(x,{sx:{fontSize:"0.7rem",color:"text.secondary",fontWeight:500},children:"Collection available within 2 hours at front desk"})]})]})]})]})]})]}),e.jsx(o,{sx:{position:"fixed",bottom:0,left:0,right:0,p:2,bgcolor:"background.paper",borderTop:1,borderColor:"divider",maxWidth:"sm",mx:"auto",zIndex:10},children:e.jsx(Y,{fullWidth:!0,variant:"contained",size:"large",onClick:f,disabled:!S,sx:{py:2,borderRadius:4,fontWeight:800,textTransform:"none",fontSize:"1.1rem",bgcolor:S?P?"success.main":"primary.main":"action.disabled",color:S?P?"white":"black":"text.disabled",boxShadow:S?"0 8px 20px -4px rgba(242, 215, 13, 0.4)":"none","&:hover":{bgcolor:P?"success.dark":"primary.dark"}},children:S?`Add to Cart • ₹${(h*i).toFixed(2)}`:"Contact for Pricing"})})]}),e.jsx(bt,{open:!!D,handleClose:()=>F(null),supplier:D})]})},ee=({product:s,onClick:d,setActiveCategory:t})=>{const l=_(u=>u.items).some(u=>u.id===s.id),C=u=>{u.stopPropagation(),d(s)};return e.jsx(xe,{onClick:()=>{s.categoryOnly?t(s.category):d(s)},sx:{cursor:"pointer",borderRadius:4,height:"100%",display:"flex",flexDirection:"column",bgcolor:"background.paper",border:1,borderColor:l?"primary.main":"divider",boxShadow:l?"0 0 15px rgba(242, 215, 13, 0.2)":"0 2px 6px -1px rgba(0, 0, 0, 0.05)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{borderColor:"primary.main",transform:"translateY(-4px)",boxShadow:"0 12px 20px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.05)"}},children:e.jsxs(o,{sx:{p:1,flex:1,display:"flex",flexDirection:"column"},children:[e.jsxs(o,{sx:{aspectRatio:"1/1",bgcolor:"action.hover",borderRadius:3,mb:1,display:"flex",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden"},children:[s.src?e.jsx("img",{loading:"lazy",src:s.src,alt:s.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px"}}):e.jsx(o,{sx:{color:"text.disabled",opacity:.2},children:e.jsx(J,{name:s.icon,className:"!text-5xl"})}),e.jsxs(o,{sx:{position:"absolute",top:6,left:6,display:"flex",flexDirection:"column",gap:.5},children:[s.sale&&e.jsx(o,{sx:{bgcolor:"secondary.main",color:"white",fontSize:"0.6rem",fontWeight:900,px:.75,py:.25,borderRadius:1.5,textTransform:"uppercase",letterSpacing:.5},children:"Sale"}),s.isNew&&e.jsx(o,{sx:{bgcolor:"info.main",color:"black",fontSize:"0.6rem",fontWeight:900,px:.75,py:.25,borderRadius:1.5,textTransform:"uppercase",letterSpacing:.5},children:"New"})]}),!s.categoryOnly&&e.jsx(o,{sx:{position:"absolute",bottom:6,left:6,bgcolor:"rgba(0,0,0,0.7)",backdropFilter:"blur(4px)",px:1,py:.5,borderRadius:2,color:"white"},children:e.jsx(x,{sx:{fontSize:"0.75rem",fontWeight:900},children:s.sizes&&s.sizes.length>0?`${s.sizes.length} Variants`:s?.price!==void 0?`₹${s.price.toFixed(0)}`:"Contact for Price"})}),!s.categoryOnly&&e.jsx(H,{onClick:C,size:"small",sx:{position:"absolute",bottom:6,right:6,bgcolor:l?"primary.main":"rgba(255,255,255,0.9)",color:l?"black":"text.primary",width:32,height:32,borderRadius:2,transition:"all 0.2s","&:hover":{bgcolor:"primary.main",color:"black",transform:"scale(1.1)"}},children:e.jsx(Le,{sx:{fontSize:20}})})]}),e.jsxs(o,{sx:{px:.5,pb:.5},children:[e.jsx(x,{variant:"caption",sx:{fontWeight:900,lineHeight:1.1,fontSize:"0.75rem",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",color:"text.primary",mb:s.categoryOnly?.5:0},children:s.name}),s.categoryOnly&&e.jsxs(e.Fragment,{children:[s.detail&&e.jsx(x,{variant:"caption",sx:{display:"block",fontSize:"0.65rem",color:"text.secondary",lineHeight:1.2,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:s.detail.length>40?`${s.detail.substring(0,40)}...`:s.detail}),s.sku&&e.jsxs(x,{variant:"caption",sx:{display:"block",fontSize:"0.6rem",fontWeight:700,color:"text.disabled",mt:.25,letterSpacing:.5},children:["SKU: ",s.sku]})]})]})]})})};export{er as component};

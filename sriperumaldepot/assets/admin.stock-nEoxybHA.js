import{r as c,H as to,G as eo,J as ro,a0 as D,M as F,L as M,k as Vt,j as e,O as no,a4 as it,P as K,a5 as Ro,N as E,Q as lt,f as Po,a6 as Ht,K as ct,b as Gt,a7 as Io,a8 as Ut,a as Kt,B as A,I as Xt,A as qt,C as dt,h as W,y as Yt,n as _t,o as Zo,D as Qt,F as Zt,S as Q,E as Jt,t as oe,v as te,w as ee}from"./index-DHY1Ru8d.js";import{Y as re}from"./index-Dlhn0XRi.js";import{S as ne}from"./Search-CUtR-E3e.js";import{u as se,d as ut,o as pt,a as Bo,b as ae,c as ie,I as le,T as Wo}from"./TextField-guTU_i3M.js";import{C as gt}from"./CheckCircle-DM50iUtf.js";import{R as ft}from"./RemoveCircleOutline-D1qzNTK_.js";import{P as ce}from"./Page-D11jEEtq.js";import{I as de}from"./Inventory--RxfwPDQ.js";import{D as Jo}from"./Divider-CY8HECq5.js";import{B as bt}from"./Button-I2KpT16O.js";import{S as ue}from"./Save-CD2IH9Xx.js";import"./isMuiElement-cndmTMkq.js";import"./dividerClasses-COgMgFGY.js";const ht=c.createContext({});function pe(o){return eo("MuiAccordion",o)}const vo=to("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),ge=o=>{const{classes:t,square:r,expanded:n,disabled:s,disableGutters:l}=o;return no({root:["root",!r&&"rounded",n&&"expanded",s&&"disabled",!l&&"gutters"],heading:["heading"],region:["region"]},pe,t)},fe=M(it,{name:"MuiAccordion",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[{[`& .${vo.region}`]:t.region},t.root,!r.square&&t.rounded,!r.disableGutters&&t.gutters]}})(K(({theme:o})=>{const t={duration:o.transitions.duration.shortest};return{position:"relative",transition:o.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(o.vars||o).palette.divider,transition:o.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${vo.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${vo.disabled}`]:{backgroundColor:(o.vars||o).palette.action.disabledBackground}}}),K(({theme:o})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(o.vars||o).shape.borderRadius,borderBottomRightRadius:(o.vars||o).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${vo.expanded}`]:{margin:"16px 0"}}}]}))),be=M("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),he=M("div",{name:"MuiAccordion",slot:"Region"})({}),xe=c.forwardRef(function(t,r){const n=ro({props:t,name:"MuiAccordion"}),{children:s,className:l,defaultExpanded:d=!1,disabled:i=!1,disableGutters:g=!1,expanded:b,onChange:m,square:v=!1,slots:S={},slotProps:C={},TransitionComponent:f,TransitionProps:p,...a}=n,[x,y]=se({controlled:b,default:d,name:"Accordion",state:"expanded"}),R=c.useCallback(G=>{y(!x),m&&m(G,!x)},[x,m,y]),[B,...I]=c.Children.toArray(s),L=c.useMemo(()=>({expanded:x,disabled:i,disableGutters:g,toggle:R}),[x,i,g,R]),T={...n,square:v,disabled:i,disableGutters:g,expanded:x},w=ge(T),O={transition:f,...S},z={transition:p,...C},H={slots:O,slotProps:z},[fo,V]=D("root",{elementType:fe,externalForwardedProps:{...H,...a},className:F(w.root,l),shouldForwardComponentProp:!0,ownerState:T,ref:r,additionalProps:{square:v}}),[N,Z]=D("heading",{elementType:be,externalForwardedProps:H,className:w.heading,ownerState:T}),[J,X]=D("transition",{elementType:Vt,externalForwardedProps:H,ownerState:T}),[so,q]=D("region",{elementType:he,externalForwardedProps:H,ownerState:T,className:w.region,additionalProps:{"aria-labelledby":B.props.id,id:B.props["aria-controls"],role:"region"}});return e.jsxs(fo,{...V,children:[e.jsx(N,{...Z,children:e.jsx(ht.Provider,{value:L,children:B})}),e.jsx(J,{in:x,timeout:"auto",...X,children:e.jsx(so,{...q,children:I})})]})});function me(o){return eo("MuiAccordionDetails",o)}to("MuiAccordionDetails",["root"]);const ve=o=>{const{classes:t}=o;return no({root:["root"]},me,t)},Se=M("div",{name:"MuiAccordionDetails",slot:"Root"})(K(({theme:o})=>({padding:o.spacing(1,2,2)}))),ye=c.forwardRef(function(t,r){const n=ro({props:t,name:"MuiAccordionDetails"}),{className:s,...l}=n,d=n,i=ve(d);return e.jsx(Se,{className:F(i.root,s),ref:r,ownerState:d,...l})});function Ce(o){return eo("MuiAccordionSummary",o)}const go=to("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Be=o=>{const{classes:t,expanded:r,disabled:n,disableGutters:s}=o;return no({root:["root",r&&"expanded",n&&"disabled",!s&&"gutters"],focusVisible:["focusVisible"],content:["content",r&&"expanded",!s&&"contentGutters"],expandIconWrapper:["expandIconWrapper",r&&"expanded"]},Ce,t)},Re=M(Ro,{name:"MuiAccordionSummary",slot:"Root"})(K(({theme:o})=>{const t={duration:o.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:o.spacing(0,2),transition:o.transitions.create(["min-height","background-color"],t),[`&.${go.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`&.${go.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity},[`&:hover:not(.${go.disabled})`]:{cursor:"pointer"},variants:[{props:r=>!r.disableGutters,style:{[`&.${go.expanded}`]:{minHeight:64}}}]}})),Pe=M("span",{name:"MuiAccordionSummary",slot:"Content"})(K(({theme:o})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:o.transitions.create(["margin"],{duration:o.transitions.duration.shortest}),[`&.${go.expanded}`]:{margin:"20px 0"}}}]}))),we=M("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(K(({theme:o})=>({display:"flex",color:(o.vars||o).palette.action.active,transform:"rotate(0deg)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shortest}),[`&.${go.expanded}`]:{transform:"rotate(180deg)"}}))),je=c.forwardRef(function(t,r){const n=ro({props:t,name:"MuiAccordionSummary"}),{children:s,className:l,expandIcon:d,focusVisibleClassName:i,onClick:g,slots:b,slotProps:m,...v}=n,{disabled:S=!1,disableGutters:C,expanded:f,toggle:p}=c.useContext(ht),a=z=>{p&&p(z),g&&g(z)},x={...n,expanded:f,disabled:S,disableGutters:C},y=Be(x),R={slots:b,slotProps:m},[B,I]=D("root",{ref:r,shouldForwardComponentProp:!0,className:F(y.root,l),elementType:Re,externalForwardedProps:{...R,...v},ownerState:x,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:S,"aria-expanded":f,focusVisibleClassName:F(y.focusVisible,i)},getSlotProps:z=>({...z,onClick:H=>{z.onClick?.(H),a(H)}})}),[L,T]=D("content",{className:y.content,elementType:Pe,externalForwardedProps:R,ownerState:x}),[w,O]=D("expandIconWrapper",{className:y.expandIconWrapper,elementType:we,externalForwardedProps:R,ownerState:x});return e.jsxs(B,{...I,children:[e.jsx(L,{...T,children:s}),d&&e.jsx(w,{...O,children:d})]})});function xt(o){const t=c.useRef({});return c.useEffect(()=>{t.current=o}),t.current}function Te(o){const{badgeContent:t,invisible:r=!1,max:n=99,showZero:s=!1}=o,l=xt({badgeContent:t,max:n});let d=r;r===!1&&t===0&&!s&&(d=!0);const{badgeContent:i,max:g=n}=d?l:o,b=i&&Number(i)>g?`${g}+`:i;return{badgeContent:i,invisible:d,max:g,displayValue:b}}function ze(o){return eo("MuiBadge",o)}const ao=to("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),$o=10,Oo=4,ke=o=>{const{color:t,anchorOrigin:r,invisible:n,overlap:s,variant:l,classes:d={}}=o,i={root:["root"],badge:["badge",l,n&&"invisible",`anchorOrigin${E(r.vertical)}${E(r.horizontal)}`,`anchorOrigin${E(r.vertical)}${E(r.horizontal)}${E(s)}`,`overlap${E(s)}`,t!=="default"&&`color${E(t)}`]};return no(i,ze,d)},Ie=M("span",{name:"MuiBadge",slot:"Root"})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),$e=M("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.badge,t[r.variant],t[`anchorOrigin${E(r.anchorOrigin.vertical)}${E(r.anchorOrigin.horizontal)}${E(r.overlap)}`],r.color!=="default"&&t[`color${E(r.color)}`],r.invisible&&t.invisible]}})(K(({theme:o})=>({display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(12),minWidth:$o*2,lineHeight:1,padding:"0 6px",height:$o*2,borderRadius:$o,zIndex:1,transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.enteringScreen}),variants:[...Object.entries(o.palette).filter(lt(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(o.vars||o).palette[t].main,color:(o.vars||o).palette[t].contrastText}})),{props:{variant:"dot"},style:{borderRadius:Oo,height:Oo*2,minWidth:Oo*2,padding:0}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ao.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="rectangular",style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ao.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ao.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="rectangular",style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ao.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${ao.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="right"&&t.overlap==="circular",style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${ao.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="top"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${ao.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:({ownerState:t})=>t.anchorOrigin.vertical==="bottom"&&t.anchorOrigin.horizontal==="left"&&t.overlap==="circular",style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${ao.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:o.transitions.create("transform",{easing:o.transitions.easing.easeInOut,duration:o.transitions.duration.leavingScreen})}}]})));function ot(o){return{vertical:o?.vertical??"top",horizontal:o?.horizontal??"right"}}const So=c.forwardRef(function(t,r){const n=ro({props:t,name:"MuiBadge"}),{anchorOrigin:s,className:l,classes:d,component:i,components:g={},componentsProps:b={},children:m,overlap:v="rectangular",color:S="default",invisible:C=!1,max:f=99,badgeContent:p,slots:a,slotProps:x,showZero:y=!1,variant:R="standard",...B}=n,{badgeContent:I,invisible:L,max:T,displayValue:w}=Te({max:f,invisible:C,badgeContent:p,showZero:y}),O=xt({anchorOrigin:ot(s),color:S,overlap:v,variant:R,badgeContent:p}),z=L||I==null&&R!=="dot",{color:H=S,overlap:fo=v,anchorOrigin:V,variant:N=R}=z?O:n,Z=ot(V),J=N!=="dot"?w:void 0,X={...n,badgeContent:I,invisible:z,max:T,displayValue:J,showZero:y,anchorOrigin:Z,color:H,overlap:fo,variant:N},so=ke(X),q={slots:{root:a?.root??g.Root,badge:a?.badge??g.Badge},slotProps:{root:x?.root??b.root,badge:x?.badge??b.badge}},[G,Y]=D("root",{elementType:Ie,externalForwardedProps:{...q,...B},ownerState:X,className:F(so.root,l),ref:r,additionalProps:{as:i}}),[wo,jo]=D("badge",{elementType:$e,externalForwardedProps:q,ownerState:X,className:so.badge});return e.jsxs(G,{...Y,children:[m,e.jsx(wo,{...jo,children:J})]})});function Oe(o){return c.Children.toArray(o).filter(t=>c.isValidElement(t))}function Me(o){return eo("MuiTab",o)}const U=to("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),We=o=>{const{classes:t,textColor:r,fullWidth:n,wrapped:s,icon:l,label:d,selected:i,disabled:g}=o,b={root:["root",l&&d&&"labelIcon",`textColor${E(r)}`,n&&"fullWidth",s&&"wrapped",i&&"selected",g&&"disabled"],icon:["iconWrapper","icon"]};return no(b,Me,t)},Ae=M(Ro,{name:"MuiTab",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,r.label&&r.icon&&t.labelIcon,t[`textColor${E(r.textColor)}`],r.fullWidth&&t.fullWidth,r.wrapped&&t.wrapped,{[`& .${U.iconWrapper}`]:t.iconWrapper},{[`& .${U.icon}`]:t.icon}]}})(K(({theme:o})=>({...o.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:t})=>t.label&&(t.iconPosition==="top"||t.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:t})=>t.label&&t.iconPosition!=="top"&&t.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:t})=>t.icon&&t.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="top",style:{[`& > .${U.icon}`]:{marginBottom:6}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="bottom",style:{[`& > .${U.icon}`]:{marginTop:6}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="start",style:{[`& > .${U.icon}`]:{marginRight:o.spacing(1)}}},{props:({ownerState:t,iconPosition:r})=>t.icon&&t.label&&r==="end",style:{[`& > .${U.icon}`]:{marginLeft:o.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${U.selected}`]:{opacity:1},[`&.${U.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(o.vars||o).palette.text.secondary,[`&.${U.selected}`]:{color:(o.vars||o).palette.primary.main},[`&.${U.disabled}`]:{color:(o.vars||o).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(o.vars||o).palette.text.secondary,[`&.${U.selected}`]:{color:(o.vars||o).palette.secondary.main},[`&.${U.disabled}`]:{color:(o.vars||o).palette.text.disabled}}},{props:({ownerState:t})=>t.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:t})=>t.wrapped,style:{fontSize:o.typography.pxToRem(12)}}]}))),yo=c.forwardRef(function(t,r){const n=ro({props:t,name:"MuiTab"}),{className:s,disabled:l=!1,disableFocusRipple:d=!1,fullWidth:i,icon:g,iconPosition:b="top",indicator:m,label:v,onChange:S,onClick:C,onFocus:f,selected:p,selectionFollowsFocus:a,textColor:x="inherit",value:y,wrapped:R=!1,...B}=n,I={...n,disabled:l,disableFocusRipple:d,selected:p,icon:!!g,iconPosition:b,label:!!v,fullWidth:i,textColor:x,wrapped:R},L=We(I),T=g&&v&&c.isValidElement(g)?c.cloneElement(g,{className:F(L.icon,g.props.className)}):g,w=z=>{!p&&S&&S(z,y),C&&C(z)},O=z=>{a&&!p&&S&&S(z,y),f&&f(z)};return e.jsxs(Ae,{focusRipple:!d,className:F(L.root,s),ref:r,role:"tab","aria-selected":p,disabled:l,onClick:w,onFocus:O,ownerState:I,tabIndex:p?0:-1,...B,children:[b==="top"||b==="start"?e.jsxs(c.Fragment,{children:[T,v]}):e.jsxs(c.Fragment,{children:[v,T]}),m]})}),Ee=Po(e.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),Ne=Po(e.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function Le(o){return(1+Math.sin(Math.PI*o-Math.PI/2))/2}function De(o,t,r,n={},s=()=>{}){const{ease:l=Le,duration:d=300}=n;let i=null;const g=t[o];let b=!1;const m=()=>{b=!0},v=S=>{if(b){s(new Error("Animation cancelled"));return}i===null&&(i=S);const C=Math.min(1,(S-i)/d);if(t[o]=l(C)*(r-g)+g,C>=1){requestAnimationFrame(()=>{s(null)});return}requestAnimationFrame(v)};return g===r?(s(new Error("Element already at target position")),m):(requestAnimationFrame(v),m)}const Fe={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Ve(o){const{onChange:t,...r}=o,n=c.useRef(),s=c.useRef(null),l=()=>{n.current=s.current.offsetHeight-s.current.clientHeight};return Ht(()=>{const d=ut(()=>{const g=n.current;l(),g!==n.current&&t(n.current)}),i=pt(s.current);return i.addEventListener("resize",d),()=>{d.clear(),i.removeEventListener("resize",d)}},[t]),c.useEffect(()=>{l(),t(n.current)},[t]),e.jsx("div",{style:Fe,...r,ref:s})}function He(o){return eo("MuiTabScrollButton",o)}const Ge=to("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Ue=o=>{const{classes:t,orientation:r,disabled:n}=o;return no({root:["root",r,n&&"disabled"]},He,t)},Ke=M(Ro,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,r.orientation&&t[r.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${Ge.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),Xe=c.forwardRef(function(t,r){const n=ro({props:t,name:"MuiTabScrollButton"}),{className:s,slots:l={},slotProps:d={},direction:i,orientation:g,disabled:b,...m}=n,v=ct(),S={isRtl:v,...n},C=Ue(S),f=l.StartScrollButtonIcon??Ee,p=l.EndScrollButtonIcon??Ne,a=Bo({elementType:f,externalSlotProps:d.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S}),x=Bo({elementType:p,externalSlotProps:d.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:S});return e.jsx(Ke,{component:"div",className:F(C.root,s),ref:r,role:null,ownerState:S,tabIndex:null,...m,style:{...m.style,...g==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${v?-90:90}deg)`}},children:i==="left"?e.jsx(f,{...a}):e.jsx(p,{...x})})});function qe(o){return eo("MuiTabs",o)}const Mo=to("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),tt=(o,t)=>o===t?o.firstChild:t&&t.nextElementSibling?t.nextElementSibling:o.firstChild,et=(o,t)=>o===t?o.lastChild:t&&t.previousElementSibling?t.previousElementSibling:o.lastChild,Co=(o,t,r)=>{let n=!1,s=r(o,t);for(;s;){if(s===o.firstChild){if(n)return;n=!0}const l=s.disabled||s.getAttribute("aria-disabled")==="true";if(!s.hasAttribute("tabindex")||l)s=r(o,s);else{s.focus();return}}},Ye=o=>{const{vertical:t,fixed:r,hideScrollbar:n,scrollableX:s,scrollableY:l,centered:d,scrollButtonsHideMobile:i,classes:g}=o;return no({root:["root",t&&"vertical"],scroller:["scroller",r&&"fixed",n&&"hideScrollbar",s&&"scrollableX",l&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",d&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",i&&"scrollButtonsHideMobile"],scrollableX:[s&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},qe,g)},_e=M("div",{name:"MuiTabs",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[{[`& .${Mo.scrollButtons}`]:t.scrollButtons},{[`& .${Mo.scrollButtons}`]:r.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,r.vertical&&t.vertical]}})(K(({theme:o})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:t})=>t.vertical,style:{flexDirection:"column"}},{props:({ownerState:t})=>t.scrollButtonsHideMobile,style:{[`& .${Mo.scrollButtons}`]:{[o.breakpoints.down("sm")]:{display:"none"}}}}]}))),Qe=M("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.scroller,r.fixed&&t.fixed,r.hideScrollbar&&t.hideScrollbar,r.scrollableX&&t.scrollableX,r.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:o})=>o.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:o})=>o.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:o})=>o.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:o})=>o.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),Ze=M("div",{name:"MuiTabs",slot:"List",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.list,t.flexContainer,r.vertical&&t.flexContainerVertical,r.centered&&t.centered]}})({display:"flex",variants:[{props:({ownerState:o})=>o.vertical,style:{flexDirection:"column"}},{props:({ownerState:o})=>o.centered,style:{justifyContent:"center"}}]}),Je=M("span",{name:"MuiTabs",slot:"Indicator"})(K(({theme:o})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:o.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(o.vars||o).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(o.vars||o).palette.secondary.main}},{props:({ownerState:t})=>t.vertical,style:{height:"100%",width:2,right:0}}]}))),or=M(Ve)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),rt={},tr=c.forwardRef(function(t,r){const n=ro({props:t,name:"MuiTabs"}),s=Gt(),l=ct(),{"aria-label":d,"aria-labelledby":i,action:g,centered:b=!1,children:m,className:v,component:S="div",allowScrollButtonsMobile:C=!1,indicatorColor:f="primary",onChange:p,orientation:a="horizontal",ScrollButtonComponent:x,scrollButtons:y="auto",selectionFollowsFocus:R,slots:B={},slotProps:I={},TabIndicatorProps:L={},TabScrollButtonProps:T={},textColor:w="primary",value:O,variant:z="standard",visibleScrollbar:H=!1,...fo}=n,V=z==="scrollable",N=a==="vertical",Z=N?"scrollTop":"scrollLeft",J=N?"top":"left",X=N?"bottom":"right",so=N?"clientHeight":"clientWidth",q=N?"height":"width",G={...n,component:S,allowScrollButtonsMobile:C,indicatorColor:f,orientation:a,vertical:N,scrollButtons:y,textColor:w,variant:z,visibleScrollbar:H,fixed:!V,hideScrollbar:V&&!H,scrollableX:V&&!N,scrollableY:V&&N,centered:b&&!V,scrollButtonsHideMobile:!C},Y=Ye(G),wo=Bo({elementType:B.StartScrollButtonIcon,externalSlotProps:I.startScrollButtonIcon,ownerState:G}),jo=Bo({elementType:B.EndScrollButtonIcon,externalSlotProps:I.endScrollButtonIcon,ownerState:G}),[Ao,yt]=c.useState(!1),[io,Eo]=c.useState(rt),[No,Ct]=c.useState(!1),[Lo,Bt]=c.useState(!1),[Do,Rt]=c.useState(!1),[Fo,Pt]=c.useState({overflow:"hidden",scrollbarWidth:0}),Vo=new Map,oo=c.useRef(null),lo=c.useRef(null),po={slots:B,slotProps:{indicator:L,scrollButton:T,...I}},Ho=()=>{const u=oo.current;let h;if(u){const P=u.getBoundingClientRect();h={clientWidth:u.clientWidth,scrollLeft:u.scrollLeft,scrollTop:u.scrollTop,scrollWidth:u.scrollWidth,top:P.top,bottom:P.bottom,left:P.left,right:P.right}}let j;if(u&&O!==!1){const P=lo.current.children;if(P.length>0){const $=P[Vo.get(O)];j=$?$.getBoundingClientRect():null}}return{tabsMeta:h,tabMeta:j}},bo=Io(()=>{const{tabsMeta:u,tabMeta:h}=Ho();let j=0,P;N?(P="top",h&&u&&(j=h.top-u.top+u.scrollTop)):(P=l?"right":"left",h&&u&&(j=(l?-1:1)*(h[P]-u[P]+u.scrollLeft)));const $={[P]:j,[q]:h?h[q]:0};if(typeof io[P]!="number"||typeof io[q]!="number")Eo($);else{const _=Math.abs(io[P]-$[P]),co=Math.abs(io[q]-$[q]);(_>=1||co>=1)&&Eo($)}}),To=(u,{animation:h=!0}={})=>{h?De(Z,oo.current,u,{duration:s.transitions.duration.standard}):oo.current[Z]=u},Go=u=>{let h=oo.current[Z];N?h+=u:h+=u*(l?-1:1),To(h)},Uo=()=>{const u=oo.current[so];let h=0;const j=Array.from(lo.current.children);for(let P=0;P<j.length;P+=1){const $=j[P];if(h+$[so]>u){P===0&&(h=u);break}h+=$[so]}return h},wt=()=>{Go(-1*Uo())},jt=()=>{Go(Uo())},[Tt,{onChange:Ko,...zt}]=D("scrollbar",{className:F(Y.scrollableX,Y.hideScrollbar),elementType:or,shouldForwardComponentProp:!0,externalForwardedProps:po,ownerState:G}),kt=c.useCallback(u=>{Ko?.(u),Pt({overflow:null,scrollbarWidth:u})},[Ko]),[Xo,qo]=D("scrollButtons",{className:F(Y.scrollButtons,T.className),elementType:Xe,externalForwardedProps:po,ownerState:G,additionalProps:{orientation:a,slots:{StartScrollButtonIcon:B.startScrollButtonIcon||B.StartScrollButtonIcon,EndScrollButtonIcon:B.endScrollButtonIcon||B.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:wo,endScrollButtonIcon:jo}}}),It=()=>{const u={};u.scrollbarSizeListener=V?e.jsx(Tt,{...zt,onChange:kt}):null;const j=V&&(y==="auto"&&(No||Lo)||y===!0);return u.scrollButtonStart=j?e.jsx(Xo,{direction:l?"right":"left",onClick:wt,disabled:!No,...qo}):null,u.scrollButtonEnd=j?e.jsx(Xo,{direction:l?"left":"right",onClick:jt,disabled:!Lo,...qo}):null,u},Yo=Io(u=>{const{tabsMeta:h,tabMeta:j}=Ho();if(!(!j||!h)){if(j[J]<h[J]){const P=h[Z]+(j[J]-h[J]);To(P,{animation:u})}else if(j[X]>h[X]){const P=h[Z]+(j[X]-h[X]);To(P,{animation:u})}}}),xo=Io(()=>{V&&y!==!1&&Rt(!Do)});c.useEffect(()=>{const u=ut(()=>{oo.current&&bo()});let h;const j=_=>{_.forEach(co=>{co.removedNodes.forEach(ho=>{h?.unobserve(ho)}),co.addedNodes.forEach(ho=>{h?.observe(ho)})}),u(),xo()},P=pt(oo.current);P.addEventListener("resize",u);let $;return typeof ResizeObserver<"u"&&(h=new ResizeObserver(u),Array.from(lo.current.children).forEach(_=>{h.observe(_)})),typeof MutationObserver<"u"&&($=new MutationObserver(j),$.observe(lo.current,{childList:!0})),()=>{u.clear(),P.removeEventListener("resize",u),$?.disconnect(),h?.disconnect()}},[bo,xo]),c.useEffect(()=>{const u=Array.from(lo.current.children),h=u.length;if(typeof IntersectionObserver<"u"&&h>0&&V&&y!==!1){const j=u[0],P=u[h-1],$={root:oo.current,threshold:.99},_=ko=>{Ct(!ko[0].isIntersecting)},co=new IntersectionObserver(_,$);co.observe(j);const ho=ko=>{Bt(!ko[0].isIntersecting)},Qo=new IntersectionObserver(ho,$);return Qo.observe(P),()=>{co.disconnect(),Qo.disconnect()}}},[V,y,Do,m?.length]),c.useEffect(()=>{yt(!0)},[]),c.useEffect(()=>{bo()}),c.useEffect(()=>{Yo(rt!==io)},[Yo,io]),c.useImperativeHandle(g,()=>({updateIndicator:bo,updateScrollButtons:xo}),[bo,xo]);const[$t,Ot]=D("indicator",{className:F(Y.indicator,L.className),elementType:Je,externalForwardedProps:po,ownerState:G,additionalProps:{style:io}}),_o=e.jsx($t,{...Ot});let mo=0;const Mt=c.Children.map(m,u=>{if(!c.isValidElement(u))return null;const h=u.props.value===void 0?mo:u.props.value;Vo.set(h,mo);const j=h===O;return mo+=1,c.cloneElement(u,{fullWidth:z==="fullWidth",indicator:j&&!Ao&&_o,selected:j,selectionFollowsFocus:R,onChange:p,textColor:w,value:h,...mo===1&&O===!1&&!u.props.tabIndex?{tabIndex:0}:{}})}),Wt=u=>{if(u.altKey||u.shiftKey||u.ctrlKey||u.metaKey)return;const h=lo.current,j=ae(ie(h));if(j?.getAttribute("role")!=="tab")return;let $=a==="horizontal"?"ArrowLeft":"ArrowUp",_=a==="horizontal"?"ArrowRight":"ArrowDown";switch(a==="horizontal"&&l&&($="ArrowRight",_="ArrowLeft"),u.key){case $:u.preventDefault(),Co(h,j,et);break;case _:u.preventDefault(),Co(h,j,tt);break;case"Home":u.preventDefault(),Co(h,null,tt);break;case"End":u.preventDefault(),Co(h,null,et);break}},zo=It(),[At,Et]=D("root",{ref:r,className:F(Y.root,v),elementType:_e,externalForwardedProps:{...po,...fo,component:S},ownerState:G}),[Nt,Lt]=D("scroller",{ref:oo,className:Y.scroller,elementType:Qe,externalForwardedProps:po,ownerState:G,additionalProps:{style:{overflow:Fo.overflow,[N?`margin${l?"Left":"Right"}`:"marginBottom"]:H?void 0:-Fo.scrollbarWidth}}}),[Dt,Ft]=D("list",{ref:lo,className:F(Y.list,Y.flexContainer),elementType:Ze,externalForwardedProps:po,ownerState:G,getSlotProps:u=>({...u,onKeyDown:h=>{Wt(h),u.onKeyDown?.(h)}})});return e.jsxs(At,{...Et,children:[zo.scrollButtonStart,zo.scrollbarSizeListener,e.jsxs(Nt,{...Lt,children:[e.jsx(Dt,{"aria-label":d,"aria-labelledby":i,"aria-orientation":a==="vertical"?"vertical":null,role:"tablist",...Ft,children:Mt}),Ao&&_o]}),zo.scrollButtonEnd]})});function er(o){return eo("MuiToggleButton",o)}const uo=to("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),mt=c.createContext({}),vt=c.createContext(void 0);function rr(o,t){return t===void 0||o===void 0?!1:Array.isArray(t)?t.includes(o):o===t}const nr=o=>{const{classes:t,fullWidth:r,selected:n,disabled:s,size:l,color:d}=o,i={root:["root",n&&"selected",s&&"disabled",r&&"fullWidth",`size${E(l)}`,d]};return no(i,er,t)},sr=M(Ro,{name:"MuiToggleButton",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[t.root,t[`size${E(r.size)}`]]}})(K(({theme:o})=>({...o.typography.button,borderRadius:(o.vars||o).shape.borderRadius,padding:11,border:`1px solid ${(o.vars||o).palette.divider}`,color:(o.vars||o).palette.action.active,[`&.${uo.disabled}`]:{color:(o.vars||o).palette.action.disabled,border:`1px solid ${(o.vars||o).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:o.alpha((o.vars||o).palette.text.primary,(o.vars||o).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${uo.selected}`]:{color:(o.vars||o).palette.text.primary,backgroundColor:o.alpha((o.vars||o).palette.text.primary,(o.vars||o).palette.action.selectedOpacity),"&:hover":{backgroundColor:o.alpha((o.vars||o).palette.text.primary,`${(o.vars||o).palette.action.selectedOpacity} + ${(o.vars||o).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:o.alpha((o.vars||o).palette.text.primary,(o.vars||o).palette.action.selectedOpacity)}}}}},...Object.entries(o.palette).filter(lt()).map(([t])=>({props:{color:t},style:{[`&.${uo.selected}`]:{color:(o.vars||o).palette[t].main,backgroundColor:o.alpha((o.vars||o).palette[t].main,(o.vars||o).palette.action.selectedOpacity),"&:hover":{backgroundColor:o.alpha((o.vars||o).palette[t].main,`${(o.vars||o).palette.action.selectedOpacity} + ${(o.vars||o).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:o.alpha((o.vars||o).palette[t].main,(o.vars||o).palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:o.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:o.typography.pxToRem(15)}}]}))),nt=c.forwardRef(function(t,r){const{value:n,...s}=c.useContext(mt),l=c.useContext(vt),d=Ut({...s,selected:rr(t.value,n)},t),i=ro({props:d,name:"MuiToggleButton"}),{children:g,className:b,color:m="standard",disabled:v=!1,disableFocusRipple:S=!1,fullWidth:C=!1,onChange:f,onClick:p,selected:a,size:x="medium",value:y,...R}=i,B={...i,color:m,disabled:v,disableFocusRipple:S,fullWidth:C,size:x},I=nr(B),L=w=>{p&&(p(w,y),w.defaultPrevented)||f&&f(w,y)},T=l||"";return e.jsx(sr,{className:F(s.className,I.root,b,T),disabled:v,focusRipple:!S,ref:r,onClick:L,onChange:f,value:y,ownerState:B,"aria-pressed":a,...R,children:g})});function ar(o){return eo("MuiToggleButtonGroup",o)}const k=to("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),ir=o=>{const{classes:t,orientation:r,fullWidth:n,disabled:s}=o,l={root:["root",r,n&&"fullWidth"],grouped:["grouped",`grouped${E(r)}`,s&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return no(l,ar,t)},lr=M("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(o,t)=>{const{ownerState:r}=o;return[{[`& .${k.grouped}`]:t.grouped},{[`& .${k.grouped}`]:t[`grouped${E(r.orientation)}`]},{[`& .${k.firstButton}`]:t.firstButton},{[`& .${k.lastButton}`]:t.lastButton},{[`& .${k.middleButton}`]:t.middleButton},t.root,r.orientation==="vertical"&&t.vertical,r.fullWidth&&t.fullWidth]}})(K(({theme:o})=>({display:"inline-flex",borderRadius:(o.vars||o).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${k.grouped}`]:{[`&.${k.selected} + .${k.grouped}.${k.selected}`]:{borderTop:0,marginTop:0}},[`& .${k.firstButton},& .${k.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${k.lastButton},& .${k.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${k.lastButton}.${uo.disabled},& .${k.middleButton}.${uo.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${k.grouped}`]:{[`&.${k.selected} + .${k.grouped}.${k.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${k.firstButton},& .${k.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${k.lastButton},& .${k.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${k.lastButton}.${uo.disabled},& .${k.middleButton}.${uo.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),cr=c.forwardRef(function(t,r){const n=ro({props:t,name:"MuiToggleButtonGroup"}),{children:s,className:l,color:d="standard",disabled:i=!1,exclusive:g=!1,fullWidth:b=!1,onChange:m,orientation:v="horizontal",size:S="medium",value:C,...f}=n,p={...n,disabled:i,fullWidth:b,orientation:v,size:S},a=ir(p),x=c.useCallback((T,w)=>{if(!m)return;const O=C&&C.indexOf(w);let z;C&&O>=0?(z=C.slice(),z.splice(O,1)):z=C?C.concat(w):[w],m(T,z)},[m,C]),y=c.useCallback((T,w)=>{m&&m(T,C===w?null:w)},[m,C]),R=c.useMemo(()=>({className:a.grouped,onChange:g?y:x,value:C,size:S,fullWidth:b,color:d,disabled:i}),[a.grouped,g,y,x,C,S,b,d,i]),B=Oe(s),I=B.length,L=T=>{const w=T===0,O=T===I-1;return w&&O?"":w?a.firstButton:O?a.lastButton:a.middleButton};return e.jsx(lr,{role:"group",className:F(a.root,l),ref:r,ownerState:p,...f,children:e.jsx(mt.Provider,{value:R,children:B.map((T,w)=>e.jsx(vt.Provider,{value:L(w),children:T},w))})})}),St=Po(e.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"})),dr=Po([e.jsx("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-1 18H5V9h14zm1-13H4V4h16z"},"0"),e.jsx("path",{d:"M9 12h6v2H9z"},"1")]);function Pr(){const o=Kt(),[t,r]=c.useState([]),[n,s]=c.useState(!0),[l,d]=c.useState(""),[i,g]=c.useState(null),[b,m]=c.useState(0);c.useEffect(()=>{(async()=>{try{debugger;const p=Yt(_t(Zo,"products"),Qt("name","asc")),x=(await Zt(p)).docs.map(y=>({...y.data(),id:y.id}));r(x)}catch(p){console.error("Error fetching products:",p)}finally{s(!1)}})()},[]);const v=c.useMemo(()=>{let f=0,p=0,a=0,x=0;return t.forEach(y=>{if(y.sizes&&y.sizes.length>0)y.sizes.forEach(R=>{const B=Number(R.stock||0);x++,B>0?f++:B===0?p++:a++});else{const R=Number(y.stock||0);x++,R>0?f++:R===0?p++:a++}}),{all:x,inStock:f,outOfStock:p,invalid:a}},[t]),S=c.useMemo(()=>{let f=t;b===1?f=f.filter(a=>a.sizes&&a.sizes.length>0?a.sizes.some(x=>Number(x.stock||0)>0):Number(a.stock||0)>0):b===2?f=f.filter(a=>a.sizes&&a.sizes.length>0?a.sizes.some(x=>Number(x.stock||0)===0):Number(a.stock||0)===0):b===3&&(f=f.filter(a=>a.sizes&&a.sizes.length>0?a.sizes.some(x=>Number(x.stock||0)<0):Number(a.stock||0)<0));const p=l.toLowerCase().trim();return p?f.filter(a=>a.name.toLowerCase().includes(p)||a.sku?.toLowerCase().includes(p)):f},[t,l,b]),C=async(f,p)=>{g(f);try{const a=String(f),x=oe(Zo,"products",a);let y;try{y=await te(x)}catch(B){throw console.error("Firestore getDoc error:",B),B}if(!y.exists()){console.error("Product document not found. ID:",a),alert("Error: This product no longer exists in the database. Please refresh the page."),r(B=>B.filter(I=>String(I.id)!==a));return}const R={};p.sizes!==void 0&&(R.sizes=p.sizes),p.stock!==void 0&&(R.stock=p.stock),p.returnStock!==void 0&&(R.returnStock=p.returnStock),p.price!==void 0&&(R.price=p.price),p.purchasePrice!==void 0&&(R.purchasePrice=p.purchasePrice),console.log("Updating with:",R),await ee(x,R),r(B=>B.map(I=>String(I.id)===a?{...I,...R}:I)),alert("Updated successfully!")}catch(a){console.error("Error updating:",a),alert("Failed to update: "+(a instanceof Error?a.message:"Unknown error"))}finally{g(null)}};return e.jsxs(A,{sx:{pb:10,bgcolor:"background.default",minHeight:"100vh",color:"text.primary"},children:[e.jsxs(A,{sx:{position:"sticky",top:0,zIndex:1100,bgcolor:"background.default",borderBottom:1,borderColor:"divider"},children:[e.jsxs(A,{sx:{display:"flex",alignItems:"center",px:2,height:64,gap:1},children:[e.jsx(Xt,{onClick:()=>o({to:"/admin"}),sx:{bgcolor:"action.hover"},children:e.jsx(qt,{})}),e.jsxs(A,{sx:{display:"flex",alignItems:"center",bgcolor:"action.hover",px:2,py:.5,borderRadius:10,width:{xs:"150px",sm:"300px"}},children:[e.jsx(ne,{sx:{color:"text.secondary",mr:1,fontSize:20}}),e.jsx(le,{placeholder:"Search...",fullWidth:!0,value:l,onChange:f=>d(f.target.value),sx:{fontSize:"0.8rem"}})]})]}),e.jsxs(tr,{value:b,onChange:(f,p)=>m(p),variant:"scrollable",scrollButtons:"auto",sx:{borderTop:1,borderColor:"divider","& .MuiTab-root":{py:1.5,minHeight:0,fontSize:"0.7rem",fontWeight:"bold",textTransform:"none",px:1}},children:[e.jsx(yo,{label:e.jsx(So,{badgeContent:v.all,color:"primary",sx:{"& .MuiBadge-badge":{right:-12,top:0}},children:"All"}),icon:e.jsx(dr,{sx:{fontSize:12}}),iconPosition:"start"}),e.jsx(yo,{label:e.jsx(So,{badgeContent:v.inStock,color:"success",sx:{"& .MuiBadge-badge":{right:-12,top:0}},children:"In"}),icon:e.jsx(gt,{sx:{fontSize:12}}),iconPosition:"start"}),e.jsx(yo,{label:e.jsx(So,{badgeContent:v.outOfStock,color:"error",sx:{"& .MuiBadge-badge":{right:-12,top:0}},children:"Out"}),icon:e.jsx(ft,{sx:{fontSize:12}}),iconPosition:"start"}),e.jsx(yo,{label:e.jsx(So,{badgeContent:v.invalid,color:"warning",sx:{"& .MuiBadge-badge":{right:-12,top:0}},children:"Neg"}),icon:e.jsx(St,{sx:{fontSize:12}}),iconPosition:"start"})]})]}),e.jsx(ce,{children:e.jsx(A,{sx:{p:2},children:n?e.jsx(A,{sx:{display:"flex",justifyContent:"center",py:8},children:e.jsx(dt,{})}):S.length===0?e.jsx(A,{sx:{textAlign:"center",py:8},children:e.jsx(W,{color:"text.secondary",children:"No products found in this category."})}):e.jsx(re,{useWindowScroll:!0,data:S,itemContent:(f,p)=>e.jsx(A,{sx:{pb:1.5},children:e.jsx(ur,{product:p,onUpdate:C,isUpdating:i===p.id},`${p.id}-${f}`)})})})})]})}function ur({product:o,onUpdate:t,isUpdating:r}){const n=!!(o.sizes&&o.sizes.length>0),s=(n?o.sizes?.reduce((d,i)=>d+(i.stock||0),0):o.stock||0)??0,l=c.useMemo(()=>{let d=0,i=0,g=0;const b=n?o.sizes||[]:[{stock:o.stock}];return b.forEach(m=>{const v=Number(m.stock||0);v>0?d++:v===0?i++:g++}),{in:d,out:i,neg:g,total:b.length}},[o,n]);return e.jsxs(xe,{sx:{borderRadius:"16px !important",border:1,borderColor:"divider","&:before":{display:"none"},boxShadow:"none",overflow:"hidden",bgcolor:"background.paper","&.Mui-expanded":{borderColor:"primary.main",boxShadow:"0 4px 20px rgba(0,0,0,0.08)"}},children:[e.jsx(je,{expandIcon:e.jsx(Jt,{}),children:e.jsxs(Q,{direction:"row",spacing:2,alignItems:"center",sx:{width:"100%"},children:[e.jsx(A,{sx:{width:44,height:44,borderRadius:2,bgcolor:"action.hover",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,border:1,borderColor:"divider"},children:o.src?e.jsx("img",{src:o.src,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:8}}):e.jsx(de,{sx:{color:"text.secondary",fontSize:20}})}),e.jsxs(A,{sx:{flex:1,minWidth:0},children:[e.jsx(W,{variant:"body2",sx:{fontWeight:"bold",lineHeight:1.2},children:o.name}),e.jsxs(Q,{direction:"row",spacing:.5,alignItems:"center",sx:{flexWrap:"wrap",gap:.5,mt:.5},children:[e.jsxs(W,{variant:"caption",sx:{bgcolor:"action.hover",px:.6,py:.2,borderRadius:1,fontSize:"0.6rem",fontWeight:600,color:"text.secondary",border:1,borderColor:"divider"},children:[l.total," ",n?"Variants":"Item"]}),l.in>0&&e.jsxs(A,{sx:{display:"flex",alignItems:"center",bgcolor:"success.dark",color:"success.contrastText",px:.6,py:.2,borderRadius:1,gap:.5},children:[e.jsx(gt,{sx:{fontSize:10}}),e.jsxs(W,{variant:"caption",sx:{fontSize:"0.6rem",fontWeight:900},children:[l.in," IN"]})]}),l.out>0&&e.jsxs(A,{sx:{display:"flex",alignItems:"center",bgcolor:"error.main",color:"error.contrastText",px:.6,py:.2,borderRadius:1,gap:.5},children:[e.jsx(ft,{sx:{fontSize:10}}),e.jsxs(W,{variant:"caption",sx:{fontSize:"0.6rem",fontWeight:900},children:[l.out," OUT"]})]}),l.neg>0&&e.jsxs(A,{sx:{display:"flex",alignItems:"center",bgcolor:"warning.main",color:"warning.contrastText",px:.6,py:.2,borderRadius:1,gap:.5},children:[e.jsx(St,{sx:{fontSize:10}}),e.jsxs(W,{variant:"caption",sx:{fontSize:"0.6rem",fontWeight:900},children:[l.neg," NEG"]})]})]}),e.jsxs(Q,{direction:"row",spacing:1,alignItems:"center",sx:{mt:.5},children:[e.jsx(W,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:o.sku||"No SKU"}),e.jsx(A,{sx:{width:4,height:4,borderRadius:"50%",bgcolor:"divider"}}),e.jsx(W,{variant:"caption",color:"text.secondary",children:o.category})]})]}),e.jsxs(A,{sx:{textAlign:"right",pr:1.5},children:[e.jsx(W,{variant:"body2",sx:{fontWeight:800,color:s<0?"error.main":s===0?"warning.main":"text.primary",fontSize:"1rem"},children:s}),e.jsx(W,{variant:"caption",sx:{fontWeight:"bold",color:"text.secondary",display:"block",mt:-.5},children:"Stock"})]})]})}),e.jsx(ye,{sx:{bgcolor:"action.hover",px:{xs:1.5,sm:2},py:2.5},children:e.jsx(Q,{spacing:2,children:n?o.sizes?.map((d,i)=>e.jsx(st,{label:`Variant: ${d.label}`,currentStock:d.stock||0,currentReturnStock:d.returnStock||0,currentPrice:d.price,currentPurchasePrice:d.purchasePrice,onSaveStock:g=>{const b=[...o.sizes||[]];b[i]={...b[i],stock:g},t(o.id,{sizes:b})},onSaveReturnStock:g=>{const b=[...o.sizes||[]];b[i]={...b[i],returnStock:g},t(o.id,{sizes:b})},onSavePricing:(g,b)=>{const m=[...o.sizes||[]];m[i]={...m[i],price:g,purchasePrice:b},t(o.id,{sizes:m})},isUpdating:r},i)):e.jsx(st,{label:"Base Product Item",currentStock:o.stock||0,currentReturnStock:o.returnStock||0,currentPrice:o.price,currentPurchasePrice:o.purchasePrice,onSaveStock:d=>t(o.id,{stock:d}),onSaveReturnStock:d=>t(o.id,{returnStock:d}),onSavePricing:(d,i)=>t(o.id,{price:d,purchasePrice:i}),isUpdating:r})})})]})}function st({label:o,currentStock:t,currentReturnStock:r,currentPrice:n,currentPurchasePrice:s,onSaveStock:l,onSaveReturnStock:d,onSavePricing:i,isUpdating:g}){const[b,m]=c.useState(n!==void 0?n:""),[v,S]=c.useState(s!==void 0?s:""),C=()=>{const a=b===""?void 0:Number(b),x=v===""?void 0:Number(v);i(a,x)},f=t<0,p=t===0;return e.jsx(it,{elevation:0,sx:{p:2,borderRadius:3,border:1,borderColor:f?"error.light":p?"warning.light":"divider",bgcolor:"background.paper"},children:e.jsxs(Q,{spacing:2,children:[e.jsx(W,{variant:"subtitle2",sx:{fontWeight:800,color:"text.primary"},children:o}),e.jsx(at,{label:"Current Stock",currentValue:t,onSave:l,isUpdating:g,isMainStock:!0}),e.jsx(Jo,{sx:{borderStyle:"dashed"}}),e.jsx(at,{label:"Return Stock",currentValue:r,onSave:d,isUpdating:g}),e.jsx(Jo,{}),e.jsxs(A,{children:[e.jsx(W,{variant:"caption",sx:{fontWeight:"bold",color:"text.secondary",textTransform:"uppercase",mb:1,display:"block"},children:"Pricing"}),e.jsxs(Q,{direction:"row",spacing:1,alignItems:"center",sx:{flexWrap:"wrap"},children:[e.jsx(Wo,{size:"small",type:"number",label:"Selling Price",placeholder:"0.00",value:b,onChange:a=>m(a.target.value===""?"":Number(a.target.value)),sx:{width:120},slotProps:{input:{sx:{fontSize:"0.8rem",fontWeight:600},startAdornment:e.jsx(W,{sx:{mr:.5,color:"text.secondary"},children:"₹"})}}}),e.jsx(Wo,{size:"small",type:"number",label:"Purchase Price",placeholder:"0.00",value:v,onChange:a=>S(a.target.value===""?"":Number(a.target.value)),sx:{width:120},slotProps:{input:{sx:{fontSize:"0.8rem",fontWeight:600},startAdornment:e.jsx(W,{sx:{mr:.5,color:"text.secondary"},children:"₹"})}}})]}),e.jsx(Q,{direction:"row",spacing:1,alignItems:"center",sx:{flexWrap:"wrap",pt:2},children:e.jsx(bt,{variant:"outlined",size:"small",disabled:g,onClick:C,sx:{minWidth:100,height:40,borderRadius:2,textTransform:"none",fontWeight:"bold"},children:"Save Prices"})})]})]})})}function at({label:o,currentValue:t,onSave:r,isUpdating:n,isMainStock:s=!1}){const[l,d]=c.useState("add"),[i,g]=c.useState(""),b=c.useRef(null),m=f=>{f&&(d(f),setTimeout(()=>{b.current?.focus()},0))},v=()=>{if(i==="")return;const f=Number(i),p=l==="add"?t+f:f;r(p),g("")},S=t<0,C=t===0;return e.jsxs(A,{children:[e.jsxs(Q,{direction:"row",spacing:1,alignItems:"center",sx:{mb:1},children:[e.jsxs(W,{variant:"caption",sx:{fontWeight:"bold",color:s&&S?"error.main":s&&C?"warning.main":"text.secondary"},children:[o,": ",t]}),s&&S&&e.jsx(W,{variant:"caption",color:"error",sx:{fontWeight:"bold"},children:"• INVALID"}),s&&C&&e.jsx(W,{variant:"caption",color:"warning.main",sx:{fontWeight:"bold"},children:"• OUT OF STOCK"})]}),e.jsxs(Q,{direction:"row",spacing:1,alignItems:"center",sx:{flexWrap:"wrap"},children:[e.jsxs(cr,{size:"small",value:l,exclusive:!0,onChange:(f,p)=>m(p),sx:{bgcolor:"action.hover",borderRadius:1.5},children:[e.jsx(nt,{value:"add",sx:{px:1.5,py:.5,fontSize:"0.65rem",fontWeight:900,border:"none !important","&.Mui-selected":{bgcolor:"primary.main",color:"black","&:hover":{bgcolor:"primary.main"}}},children:"ADD"}),e.jsx(nt,{value:"replace",sx:{px:1.5,py:.5,fontSize:"0.65rem",fontWeight:900,border:"none !important","&.Mui-selected":{bgcolor:"primary.main",color:"black","&:hover":{bgcolor:"primary.main"}}},children:"REPLACE"})]}),e.jsx(Wo,{size:"small",type:"number",placeholder:l==="add"?"+/-":"Set",value:i,onChange:f=>g(f.target.value===""?"":Number(f.target.value)),inputRef:b,sx:{width:85},slotProps:{input:{sx:{fontSize:"0.8rem",fontWeight:800,textAlign:"center"}}}})]}),e.jsx(Q,{direction:"row",spacing:1,alignItems:"center",sx:{flexWrap:"wrap",pt:1},children:e.jsxs(bt,{variant:"contained",size:"small",disabled:i===""||n,onClick:v,sx:{minWidth:40,height:40,borderRadius:2,boxShadow:"none","&:hover":{boxShadow:"none"}},children:[n?e.jsx(dt,{size:20,color:"inherit"}):e.jsx(ue,{fontSize:"small"}),"  Save"]})})]})}export{Pr as component};
